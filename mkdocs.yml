# mkdocs.yml for the Flujo project

site_name: Flujo
site_description: A powerful Python library for orchestrating AI workflows.
site_url: https://flujo.dev # Aspirational URL

repo_name: aandresalvarez/flujo
repo_url: https://github.com/aandresalvarez/flujo
edit_uri: edit/main/docs/

# Enforce high quality standards for the documentation
strict: true

# Define the site navigation structure
nav:
  - 'Introduction': 'index.md'
  - 'Getting Started': 'getting-started.md'
  - 'User Guide':
    - 'Pipelines & Steps': 'user_guide/pipelines-and-steps.md'
    - 'Context & Resources': 'user_guide/context-and-resources.md'
    - 'Agentic Patterns': 'user_guide/agentic-patterns.md'
    - 'Testing Your Pipelines': 'user_guide/testing.md'
  - 'Agent Infrastructure': 'agent_infrastructure.md'
  - 'Building Resilient Agents': 'building_resilient_agents.md'
  - 'Examples':
    - 'Basic Pipeline': 'examples/basic-pipeline.md'
  - 'API Reference':
    - 'Application': 'api/application.md'
    - 'Domain (DSL)': 'api/domain.md'
    - 'Models': 'api/models.md'
    - 'Exceptions': 'api/exceptions.md'

# Configure the theme (Material for MkDocs is the best choice)
theme:
  name: "material"
  palette:
    - scheme: default
      primary: indigo
      accent: indigo
      toggle:
        icon: material/weather-sunny
        name: Switch to dark mode
    - scheme: slate
      primary: indigo
      accent: indigo
      toggle:
        icon: material/weather-night
        name: Switch to light mode
  features:
    - search.suggest
    - search.highlight
    - content.tabs.link
    - content.code.annotate
    - content.code.copy
    - navigation.tracking
    - navigation.sections

# Extensions for rendering rich markdown content
markdown_extensions:
  - admonition
  - pymdownx.details
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: fence_code_format
  - pymdownx.tabbed:
      alternate_style: true

# The core plugin for auto-generating API docs from your code
plugins:
  - search
  - mkdocstrings:
      handlers:
        python:
          # Tell mkdocstrings where to find the source code
          paths: [flujo]
          options:
            # Recommended options for a clean look
            show_root_heading: true
            show_source: false
            members_order: source
            separate_signature: true
            show_signature_annotations: true
          import:
            - url: https://docs.python.org/3/objects.inv
            - url: https://docs.pydantic.dev/latest/objects.inv
