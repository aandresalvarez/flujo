## Flujo project configuration

# Durable state backend for pause/resume
# Prefer a hidden project-local directory to reduce repo root clutter
state_uri = "sqlite:///.flujo/flujo_ops.db"

# Explicit model pricing to avoid hardcoded default price warnings.
[cost]
strict = false
## In CI or production, enable strict pricing via environment to prevent silent drift:
##   export FLUJO_COST_STRICT=1

# OpenAI pricing for models used in this repo
[cost.providers.openai.gpt-4o-mini]
prompt_tokens_per_1k = 0.00015
completion_tokens_per_1k = 0.0006

# You can add more models here as needed, for example:
# [cost.providers.openai.gpt-4o]
# prompt_tokens_per_1k = 0.005
# completion_tokens_per_1k = 0.015

# Optional budgets (uncomment and set values to enforce limits)
# [budgets]
# [budgets.default]
# total_cost_usd_limit = 10.0
# total_tokens_limit = 100000

# Background task controls
[background_tasks]
# Enable persistence and resumability for background steps
enable_state_tracking = true
enable_resumability = true
enable_quota = true
# Per-task budgets when no parent quota is available
max_cost_per_task = 1.0
max_tokens_per_task = 10000
# Cleanup threshold for zombie background tasks
stale_task_timeout_hours = 24
