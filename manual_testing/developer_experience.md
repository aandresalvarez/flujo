 This is the most important part of the developer experience. Let's walk through the user's journey from an empty folder to a running AI workflow.

This narrative describes the experience with all the recent architectural improvements in place: the project-based structure, the single robust Architect, and the new built-in skills.

### The User's Journey: From Idea to Execution in Minutes

#### Stage 1: The `init` Command - Scaffolding the Project

A developer, let's call her Alex, has an idea for an AI workflow. She starts by creating a new directory for her project.

1.  **User Action:** Alex opens her terminal.
    ```bash
    mkdir demo
    cd demo
    ```

2.  **User Action:** She initializes a new Flujo project.
    ```bash
    flujo init
    ```

3.  **What Alex Sees:** The CLI gives her immediate, positive feedback, confirming that her project is ready.
    ```
    âœ… Your new Flujo project has been initialized in this directory!
    ```

4.  **What Actually Happened:** Flujo has created a clean, structured project environment for her. If she lists the files (`ls -aR`), she'll see:
    ```
    .
    â”œâ”€â”€ .flujo/
    â”‚   â””â”€â”€ state.db
    â”œâ”€â”€ flujo.toml
    â”œâ”€â”€ pipeline.yaml
    â””â”€â”€ skills/
        â”œâ”€â”€ __init__.py
        â””â”€â”€ custom_tools.py
    ```

    *   **`.flujo/state.db`**: Alex understands this is for Flujo's internal state, like run history for `flujo lens`.
    *   **`flujo.toml`**: She sees this is the main project configuration file, where she can set the state backend, default models, and budgets.
    *   **`pipeline.yaml`**: This is the heart of her workflow. Initially, it contains a minimal, working "passthrough" step so she has a valid starting point.
    *   **`skills/`**: This is where she'll put her own custom Python tools. Flujo has already created an example file, `custom_tools.py`, to guide her.

**User's State of Mind:** Alex is happy. In one command, she has a fully configured, best-practice project structure. She didn't have to guess where to put files or how to configure state.

---

#### Stage 2: The `create` Command - The Magic Moment

Alex has a clear goal: "Take the content from the Flujo GitHub README, get the first 500 characters, and save it to a file named `readme_snippet.txt`."

Instead of writing YAML from scratch, she decides to use the AI Architect.

1.  **User Action:** She runs the `create` command and describes her goal in plain English.
    ```bash
    flujo create
    ```

2.  **What Alex Sees:** Flujo starts a conversation with her.
    ```
    What is your goal for this pipeline?: Take the content from the Flujo GitHub README, get the first 500 characters, and save it to a file named readme_snippet.txt.
    ```

3.  **What Actually Happens (The Architect's Workflow):**
    *   Flujo's AI Architect (the single, robust `architect_pipeline.yaml`) kicks off.
    *   It analyzes her goal: "get content from a URL," "extract a substring," "save to a file."
    *   It discovers the available built-in skills, including the new `http_get` and `fs_write_file`.
    *   It generates a `pipeline.yaml` draft in memory.
    *   It validates the draft. If there are errors, its self-correction loop runs again, feeding the validation errors back into its own prompt to fix the mistakes.
    *   Once a valid pipeline is generated, the process completes.

4.  **What Alex Sees:** After a few moments of processing, the CLI confirms success.
    ```
    âœ… Wrote: pipeline.yaml
    ```

5.  **The Result:** Alex opens `pipeline.yaml`. The minimal placeholder is gone, replaced by a complete, logical workflow generated by the Architect.

    **File: `pipeline.yaml` (Updated)**
    ```yaml
    version: "0.1"
    name: readme_snippet_generator
    steps:
      - kind: step
        name: get_readme_content
        agent:
          id: "flujo.builtins.http_get"
          params:
            url: "https://raw.githubusercontent.com/aandresalvarez/flujo/main/README.md"
        updates_context: true

      - kind: step
        name: extract_snippet
        input: "{{ previous_step.body }}"
        agent:
          id: "flujo.builtins.extract_from_text"
          params:
            schema:
              type: object
              properties:
                snippet:
                  type: string
                  description: "The first 500 characters of the text."
              required:
                - snippet
        updates_context: true

      - kind: step
        name: save_snippet_to_file
        input: "{{ previous_step.snippet }}"
        agent:
          id: "flujo.builtins.fs_write_file"
          params:
            path: "readme_snippet.txt"
            content: "{{ previous_step }}"
    ```

**User's State of Mind:** This is the "wow" moment. Alex went from a natural language goal to a production-ready, declarative pipeline file in a single command, without writing any code herself.

---

#### Stage 3: The `run` Command - The Payoff

The pipeline looks correct. Now, Alex wants to see it run.

1.  **User Action:** She simply runs the `run` command. Because she's in a project directory, Flujo automatically knows to use `pipeline.yaml`.
    ```bash
    flujo run
    ```

2.  **What Alex Sees:** The CLI provides a real-time, rich display of the pipeline's execution.
    ```
    âœ… Pipeline execution completed successfully!
    Final output: {'success': True, 'path': 'readme_snippet.txt'}
    Total cost: $0.0000
    Total tokens: 0
    Steps executed: 3
    Run ID: run_...

    Pipeline Execution Results
    â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”â”â”³â”â”â”â”â”â”â”â”â”“
    â”ƒ Step                     â”ƒ Status â”ƒ Output                                               â”ƒ Cost     â”ƒ Tokens â”ƒ
    â”¡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”â”â•‡â”â”â”â”â”â”â”â”â”©
    â”‚ get_readme_content       â”‚ âœ…     â”‚ {'status_code': 200, 'headers': {...}, 'body': '# ğŸ“‚ Fâ€¦ â”‚ $0.0000  â”‚ 0      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ extract_snippet          â”‚ âœ…     â”‚ {'snippet': '# ğŸ“‚ Project File Contents\n\n- ğŸ“ **flujâ€¦ â”‚ $0.0000  â”‚ 0      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ save_snippet_to_file     â”‚ âœ…     â”‚ {'success': True, 'path': 'readme_snippet.txt'}      â”‚ $0.0000  â”‚ 0      â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    ```

3.  **The Side Effect:** Alex checks her project directory.
    ```bash
    ls
    ```
    She sees a new file: `readme_snippet.txt`.

4.  **Verification:** She checks the content of the new file.
    ```bash
    cat readme_snippet.txt
    ```
    It contains exactly the first 500 characters of the Flujo README.

**User's State of Mind:** Success. The entire workflow, from a simple idea to a tangible result, took only a few minutes. The process was intuitive, guided, and the output was transparent and observable. She now has a working pipeline she can version control, share, and build upon.