/Users/alvaro1/Library/Python/3.9/lib/python/site-packages/pytest_asyncio/plugin.py:217: PytestDeprecationWarning: The configuration option "asyncio_default_fixture_loop_scope" is unset.
The event loop scope for asynchronous fixtures will default to the fixture caching scope. Future versions of pytest-asyncio will default the loop scope for asynchronous fixtures to function scope. Set the default fixture loop scope explicitly in order to avoid unexpected behavior in the future. Valid fixture loop scopes are: "function", "class", "module", "package", "session"

  warnings.warn(PytestDeprecationWarning(_DEFAULT_FIXTURE_LOOP_SCOPE_UNSET))
tests/unit/application/test_executor_backend_factories.py::test_executor_factory_injects_custom_telemetry
tests/unit/application/test_executor_backend_factories.py::test_backend_factory_uses_provided_executor
tests/unit/application/test_runner_shutdown.py::test_runner_shuts_down_default_state_backend
tests/unit/application/test_runner_shutdown.py::test_runner_does_not_shutdown_injected_backend
tests/unit/architect/states/test_plan_approval_state.py::test_plan_approval_defaults_to_parameter_collection
tests/unit/architect/states/test_planning_state.py::test_planning_fallback_uses_available_http_get
tests/unit/architect/states/test_refinement_state.py::test_refinement_state_collects_feedback_and_loops
tests/unit/architect/states/test_validation_state.py::test_validation_repair_loop_sets_validation_next_state
tests/unit/architect/test_builtins_analyze_project.py::test_analyze_project_detects_common_files
tests/unit/architect/test_builtins_analyze_project.py::test_analyze_project_empty_dir
tests/unit/architect/test_builtins_estimate_plan_cost.py::test_estimate_plan_cost_sums_registry_estimates
tests/unit/architect/test_builtins_run_pipeline_in_memory.py::test_run_pipeline_in_memory_mocks_side_effects
tests/unit/architect/test_builtins_visualize_plan.py::test_visualize_plan_generates_mermaid
tests/unit/architect/test_builtins_visualize_plan.py::test_visualize_plan_empty
tests/unit/architect/test_fallbacks.py::test_planner_and_toolmatcher_fallbacks
tests/unit/architect/test_planner_agent_toggle.py::test_planner_agent_disabled_falls_back_to_heuristics
tests/unit/architect/test_tool_matcher_resilience.py::test_tool_matcher_disabled_falls_back
tests/unit/architect/test_tool_matcher_resilience.py::test_tool_matcher_agent_failure_is_caught
tests/unit/architect/test_yaml_writer_and_finalize.py::test_yaml_writer_disabled_builds_from_selections
tests/unit/architect/test_yaml_writer_and_finalize.py::test_emit_minimal_yaml_produces_valid_scaffold
tests/unit/aros/test_cli_health_check_export.py::test_health_check_json_export_includes_bucket_step_and_model_breakdowns
tests/unit/aros/test_cli_health_check_export.py::test_health_check_recommendations_include_stage_aware
tests/unit/aros/test_cli_health_check_export.py::test_health_check_json_export_without_since_hours_has_no_buckets
tests/unit/aros/test_cli_health_check_export.py::test_health_check_handles_no_runs
tests/unit/aros/test_cli_health_check_trend_stage_specific.py::test_trend_stage_specific_recommendations
tests/unit/aros/test_enum_and_stage0.py::test_enum_integer_coercion_from_string
tests/unit/aros/test_enum_and_stage0.py::test_enum_boolean_coercion_from_string
tests/unit/aros/test_enum_and_stage0.py::test_stage0_extractor_code_fence
tests/unit/aros/test_enum_and_stage0.py::test_stage0_unescape_double_encoded
tests/unit/aros/test_factory_gpt5_profile.py::test_make_agent_uses_openai_responses_model_for_gpt5_family
tests/unit/aros/test_factory_gpt5_profile.py::test_make_agent_async_allows_structured_output_hint_without_network
tests/unit/aros/test_factory_gpt5_profile.py::test_make_agent_async_gpt4o_structured_output_hint_without_network
tests/unit/aros/test_factory_gpt5_profile.py::test_policy_openai_gpt4o_auto_grammar_applied
tests/unit/aros/test_factory_gpt5_profile.py::test_policy_enables_structured_output_for_gpt5_family_without_network
tests/unit/aros/test_grammar_enforcement.py::test_outlines_enforcement_fails_on_non_matching_output
tests/unit/aros/test_grammar_enforcement.py::test_outlines_enforcement_passes_on_matching_output
tests/unit/aros/test_policy_gpt4o_mini.py::test_policy_openai_gpt4o_mini_auto_grammar_applied
tests/unit/aros/test_policy_response_format_precedence.py::test_policy_does_not_override_user_response_format
tests/unit/aros/test_policy_structured_output_enable.py::test_policy_enables_structured_output_and_passes_response_format
tests/unit/aros/test_policy_structured_output_enable.py::test_policy_structured_output_safe_noop_when_agent_no_kwargs
tests/unit/aros/test_policy_structured_output_enable.py::test_policy_structured_output_skipped_for_unsupported_provider_records_event
tests/unit/aros/test_policy_structured_output_enable.py::test_policy_structured_output_openai_records_grammar_applied_event
tests/unit/aros/test_policy_structured_output_enable.py::test_policy_structured_output_auto_behaves_like_openai_json
tests/unit/aros/test_policy_structured_output_enable.py::test_policy_outlines_sets_structured_grammar_option_and_traces
tests/unit/aros/test_policy_structured_output_enable.py::test_policy_xgrammar_sets_structured_grammar_option_and_traces
tests/unit/aros/test_processing_config_validation.py::test_invalid_structured_output_value_raises
tests/unit/aros/test_processing_config_validation.py::test_invalid_coercion_allow_raises
tests/unit/aros/test_processing_config_validation.py::test_valid_reasoning_precheck_passes
tests/unit/aros/test_processing_config_validation.py::test_schema_alias_preserved_in_processing_meta
tests/unit/aros/test_reasoning_precheck.py::test_reasoning_precheck_skipped_when_no_plan_found
tests/unit/aros/test_reasoning_precheck_max_tokens.py::test_precheck_passes_max_tokens_to_validator
tests/unit/aros/test_runner_completion_gate.py::test_runner_does_not_mark_completed_with_missing_step_results[asyncio]
tests/unit/aros/test_runner_completion_gate.py::test_runner_does_not_mark_completed_with_missing_step_results[trio]
tests/unit/aros/test_schema_derivation.py::test_derive_json_schema_from_pydantic_model
tests/unit/aros/test_schema_derivation.py::test_smart_coercion_with_derived_schema
tests/unit/aros/test_smart_coercion.py::test_schema_coercion_object_integer
tests/unit/aros/test_smart_coercion.py::test_schema_coercion_anyof_boolean_string_prefers_first_branch_when_allowed
tests/unit/aros/test_smart_coercion.py::test_schema_coercion_array_from_string
tests/unit/aros/test_smart_coercion.py::test_schema_coercion_nested_array_of_objects
tests/unit/aros/test_smart_coercion.py::test_schema_coercion_oneof_integer_or_string_prefers_integer_when_allowed
tests/unit/aros/test_smart_coercion.py::test_schema_coercion_array_items_integer_from_list_of_strings
tests/unit/aros/test_smart_coercion.py::test_schema_coercion_nullable_integer_none_passthrough
tests/unit/aros/test_smart_coercion.py::test_schema_coercion_boolean_zero_one_and_text[0-False]
tests/unit/aros/test_smart_coercion.py::test_schema_coercion_boolean_zero_one_and_text[1-True]
tests/unit/aros/test_smart_coercion.py::test_schema_coercion_boolean_zero_one_and_text[true-True]
tests/unit/aros/test_smart_coercion.py::test_schema_coercion_boolean_zero_one_and_text[false-False]
tests/unit/aros/test_smart_coercion.py::test_schema_anyof_array_or_integer_prefers_array_when_string_json
tests/unit/aros/test_smart_coercion.py::test_schema_nested_anyof_in_object_property
tests/unit/aros/test_smart_coercion.py::test_schema_oneof_array_or_string_keeps_array_when_already_list
tests/unit/aros/test_smart_coercion_anyof.py::test_anyof_branch_selection_and_branch_choices_recorded
tests/unit/aros/test_structured_finalize_normalization.py::test_finalize_parses_fenced_json_to_object[asyncio]
tests/unit/aros/test_structured_finalize_normalization.py::test_finalize_parses_fenced_json_to_object[trio]
tests/unit/aros/test_tracing_aggregation.py::test_tracing_aggregation_for_coercion_and_soe_and_reasoning
tests/unit/aros/test_tracing_aggregation.py::test_grammar_adapters_stubs_return_placeholders
tests/unit/aros/test_wrapper_kwargs_response_format.py::test_wrapper_passes_response_format_when_agent_accepts_kwargs
tests/unit/aros/test_wrapper_structured_output.py::test_wrapper_attaches_response_format_when_enabled
tests/unit/aros/test_wrapper_structured_output.py::test_wrapper_does_not_override_existing_response_format
tests/unit/aros/test_wrapper_structured_output.py::test_wrapper_json_object_hint_when_no_schema
tests/unit/aros/test_wrapper_structured_output.py::test_wrapper_does_not_pass_response_format_when_not_supported
tests/unit/aros/test_wrapper_unexpected_behavior.py::test_wrapper_repairs_unexpected_model_behavior
tests/unit/as_step/test_context_merge.py::test_as_step_merges_command_log[1]
tests/unit/as_step/test_context_merge.py::test_as_step_merges_command_log[0]
tests/unit/blueprint/test_loader_pipeline_name.py::test_yaml_pipeline_name_is_propagated
tests/unit/blueprints/test_agentic_loop_output_template.py::test_agentic_loop_output_template_wraps_mapper
tests/unit/blueprints/test_agentic_loop_sugar.py::test_agentic_loop_yaml_sugar_compiles
tests/unit/blueprints/test_condition_error_messages.py::test_inline_lambda_condition_raises_actionable_error
tests/unit/blueprints/test_condition_error_messages.py::test_bad_import_path_condition_is_rewrapped_with_field_context
tests/unit/blueprints/test_conditional_bool_branches.py::test_conditional_yaml_accepts_bool_branch_keys_and_coerces_to_strings
tests/unit/blueprints/test_expression_conditions.py::test_conditional_condition_expression_returns_branch_key
tests/unit/blueprints/test_expression_conditions.py::test_loop_exit_expression_truthiness
tests/unit/blueprints/test_expression_sandbox.py::test_allowlisted_dict_get_with_default
tests/unit/blueprints/test_expression_sandbox.py::test_allowlisted_string_methods
tests/unit/blueprints/test_expression_sandbox.py::test_disallow_mutating_or_unknown_calls
tests/unit/blueprints/test_expression_sandbox.py::test_nested_attribute_and_subscript_and_none_tolerance
tests/unit/blueprints/test_expression_sandbox.py::test_invalid_arg_types_to_allowlisted_methods_raise
tests/unit/blueprints/test_loop_state_sugar.py::test_loop_state_append_set_merge
tests/unit/blueprints/test_loop_state_target_resolution.py::test_resolve_target_on_plain_dict_creates_nested_levels
tests/unit/blueprints/test_loop_state_target_resolution.py::test_attribute_fallback_on_plain_object_creates_dict_then_sets_key
tests/unit/blueprints/test_loop_state_target_resolution.py::test_slots_object_is_unchanged
tests/unit/blueprints/test_loop_state_target_resolution.py::test_tuple_context_is_unchanged
tests/unit/blueprints/test_loop_state_target_resolution.py::test_mixed_dict_then_attribute_path
tests/unit/blueprints/test_loop_state_target_resolution.py::test_dict_assignment_failure_is_ignored
tests/unit/blueprints/test_template_resolution.py::test_dotted_steps_resolution
tests/unit/blueprints/test_template_resolution.py::test_aliases_output_result_value
tests/unit/blueprints/test_template_resolution.py::test_context_proxy_fallback_to_steps
tests/unit/blueprints/test_template_resolution.py::test_context_base_overrides_steps
tests/unit/blueprints/test_template_resolution.py::test_previous_step_variable
tests/unit/builtins/test_builtins_adapters.py::test_wrap_dict_simple
tests/unit/builtins/test_builtins_adapters.py::test_ensure_object_passthrough_and_wrap
tests/unit/builtins/test_builtins_adapters.py::test_ensure_object_pydantic_model
tests/unit/builtins/test_transforms.py::test_to_csv_basic_and_headers
tests/unit/builtins/test_transforms.py::test_aggregate_sum_avg_count
tests/unit/builtins/test_transforms.py::test_select_fields_projection_and_rename
tests/unit/builtins/test_transforms.py::test_flatten_one_level_and_passthrough
tests/unit/cli/test_fix_va8.py::test_fix_va8_adds_structured_output
tests/unit/cli/test_fix_va8.py::test_fix_va8_patch_preview
tests/unit/cli/test_validate_baseline.py::test_baseline_hides_existing_warnings
tests/unit/cli/test_validate_baseline.py::test_update_baseline_writes_current_report
tests/unit/cli/test_validate_fail_on_warn.py::test_fail_on_warn_triggers_nonzero_exit
tests/unit/cli/test_validate_fail_on_warn.py::test_without_fail_on_warn_allows_warnings
tests/unit/cli/test_validate_rules_overrides.py::test_rules_file_glob_suppresses_template_warnings
tests/unit/cli/test_validate_telemetry_counts.py::test_json_counts_when_telemetry_enabled
tests/unit/domain/validation/test_comment_suppress_and_file.py::test_comment_based_suppression_and_file_field
tests/unit/domain/validation/test_import_source_file.py::test_imported_child_steps_have_file_in_yaml_loc
tests/unit/domain/validation/test_rules_agents_missing.py::test_v_a6_unknown_agent_or_skill_emits_error
tests/unit/domain/validation/test_rules_agents_missing.py::test_v_a7_invalid_coercions_warns
tests/unit/domain/validation/test_rules_agents_missing.py::test_v_a8_structured_output_non_json_mode_todo
tests/unit/domain/validation/test_rules_context_isolation.py::test_vctx1_detects_custom_skill_in_loop
tests/unit/domain/validation/test_rules_context_isolation.py::test_vctx1_passes_for_builtin_in_loop
tests/unit/domain/validation/test_rules_context_isolation.py::test_vctx1_detects_custom_skill_in_parallel
tests/unit/domain/validation/test_rules_context_isolation.py::test_vctx1_passes_for_agents_in_parallel
tests/unit/domain/validation/test_rules_context_isolation.py::test_vctx1_message_shows_skill_references
tests/unit/domain/validation/test_rules_context_isolation.py::test_vctx1_mixed_skills_in_parallel_branches
tests/unit/domain/validation/test_rules_context_isolation.py::test_vctx1_suggestion_references_team_guide
tests/unit/domain/validation/test_rules_context_isolation.py::test_vctx1_no_warnings_for_simple_loop
tests/unit/domain/validation/test_rules_context_isolation.py::test_vctx1_multiple_custom_skills_in_loop
tests/unit/domain/validation/test_rules_context_missing.py::test_v_c1_updates_context_nonmergeable_warns_and_escalates
tests/unit/domain/validation/test_rules_context_missing.py::test_v_c2_scratchpad_shape_conflicts_warns
tests/unit/domain/validation/test_rules_context_missing.py::test_v_c3_large_literal_templates_todo
tests/unit/domain/validation/test_rules_exception_linter.py::TestExceptionLinterDetectsCustomSkills::test_vex1_detects_custom_skill_with_colon_syntax
tests/unit/domain/validation/test_rules_exception_linter.py::TestExceptionLinterDetectsCustomSkills::test_vex1_ignores_builtin_skills
tests/unit/domain/validation/test_rules_exception_linter.py::TestExceptionLinterDetectsCustomSkills::test_vex1_ignores_declarative_agents
tests/unit/domain/validation/test_rules_exception_linter.py::TestExceptionLinterMessageQuality::test_vex1_message_includes_all_control_flow_exceptions
tests/unit/domain/validation/test_rules_exception_linter.py::TestExceptionLinterMessageQuality::test_vex1_suggestion_includes_code_example
tests/unit/domain/validation/test_rules_exception_linter.py::TestExceptionLinterMessageQuality::test_vex1_includes_step_name_and_location
tests/unit/domain/validation/test_rules_exception_linter.py::TestExceptionLinterCanBeSuppressed::test_vex1_respects_inline_suppression
tests/unit/domain/validation/test_rules_exception_linter.py::TestExceptionLinterMultipleSteps::test_vex1_detects_multiple_custom_skills
tests/unit/domain/validation/test_rules_exception_linter.py::TestExceptionLinterEdgeCases::test_vex1_handles_steps_without_meta
tests/unit/domain/validation/test_rules_exception_linter.py::TestExceptionLinterEdgeCases::test_vex1_handles_empty_pipeline
tests/unit/domain/validation/test_rules_imports_missing.py::test_v_i4_child_aggregation_summary
tests/unit/domain/validation/test_rules_imports_missing.py::test_v_i5_input_projection_coherence_warns_initial_prompt_vs_object
tests/unit/domain/validation/test_rules_imports_missing.py::test_v_i6_inherit_conversation_consistency_warns
tests/unit/domain/validation/test_rules_orchestration_missing.py::test_v_l1_loop_exit_coverage_warns
tests/unit/domain/validation/test_rules_orchestration_missing.py::test_v_p2_parallel_explicit_conflicts_detected
tests/unit/domain/validation/test_rules_schema_missing.py::test_v_s2_response_format_vs_stringification
tests/unit/domain/validation/test_rules_schema_missing.py::test_v_s3_type_string_awareness
tests/unit/domain/validation/test_rules_templates_missing.py::test_v_t5_prior_model_field_existence
tests/unit/domain/validation/test_rules_templates_missing.py::test_v_t6_json_trap
tests/unit/domain/validation/test_v_cf1_infinite_loop.py::test_v_cf1_triggers_on_constant_false_exit_condition
tests/unit/domain/validation/test_v_cf1_infinite_loop.py::test_v_cf1_triggers_on_excessive_max_loops
tests/unit/domain/validation/test_validation_new_features.py::test_validate_template_previous_step_output_warns
tests/unit/domain/validation/test_validation_new_features.py::test_template_lints_vt2_vt3_vt4
tests/unit/domain/validation/test_validation_new_features.py::test_validate_imports_aggregates_child_findings
tests/unit/domain/validation/test_validation_new_features.py::test_validate_imports_recurses_into_grandchildren
tests/unit/domain/validation/test_validation_new_features.py::test_v_i2_import_outputs_mapping_sanity
tests/unit/domain/validation/test_validation_new_features.py::test_v_p3_parallel_branch_input_uniformity
tests/unit/domain/validation/test_validation_new_features.py::test_cycle_detection_v_i3_compiler_surfaces_error
tests/unit/domain/validation/test_validation_suppressions.py::test_per_step_suppress_rules_glob_template_lints
tests/unit/domain/validation/test_validation_suppressions.py::test_per_step_suppress_on_import_aggregation
tests/unit/domain/validation/test_yaml_loc_indexing.py::test_nested_yaml_loc_indexing_state_parallel_map_loop_fallback
tests/unit/domain/validation/test_yaml_loc_indexing.py::test_yaml_loc_indexing_conditional_default_branch
tests/unit/dsl/test_state_machine_transitions_parse.py::test_transitions_parse_and_validate_success
tests/unit/dsl/test_state_machine_transitions_parse.py::test_transitions_invalid_to_state_raises
tests/unit/dsl/test_state_machine_transitions_parse.py::test_transitions_wildcard_from_ok
tests/unit/dsl/test_state_machine_transitions_parse.py::test_transitions_invalid_on_raises
tests/unit/dsl/test_state_machine_transitions_parse.py::test_transitions_when_expression_parses_at_load_time
tests/unit/infra/test_console_tracer_paused.py::test_console_tracer_post_run_paused_displays_paused
tests/unit/prompting/test_filters.py::test_upper_and_lower_filters
tests/unit/prompting/test_filters.py::test_length_filter_on_list_and_string
tests/unit/prompting/test_filters.py::test_tojson_filter_serializes_values
tests/unit/prompting/test_filters.py::test_join_filter_with_delimiter_and_non_str_values
tests/unit/prompting/test_filters.py::test_filter_chain_applies_after_fallback_expression
tests/unit/prompting/test_filters.py::test_unknown_filter_raises_value_error
tests/unit/prompting/test_filters.py::test_each_block_respects_filters
tests/unit/prompting/test_filters_allowlist.py::test_allowlist_permits_only_enabled_filters
tests/unit/test_adapter_step.py::test_adapter_pipeline_runs
tests/unit/test_adapter_step.py::test_is_adapter_meta
tests/unit/test_adapter_step.py::test_docstring_example
tests/unit/test_agent_step_policy.py::test_agent_quota_reservation_failure_raises_usage_limit_no_fallback
tests/unit/test_agent_step_policy.py::test_agent_primary_failure_fallback_success_with_quota_present
tests/unit/test_agent_step_policy.py::test_agent_quota_denial_uses_legacy_message_with_limits
tests/unit/test_agent_strict_pricing.py::test_agent_strict_pricing_error_surfaces_post_reservation
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLogging::test_single_command_logging
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLogging::test_multiple_commands_logging
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLogging::test_max_loops_logging
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLogging::test_command_log_structure
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLogging::test_iteration_mapper_logging
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLogging::test_output_mapper_logging
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLogging::test_no_double_logging
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLogging::test_command_executor_logging
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLogging::test_pause_and_resume_logging
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLogging::test_command_log_persistence
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLogging::test_error_logging
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLogging::test_validation_error_logging
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLoggingRegressionPrevention::test_no_double_logging_regression
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLoggingRegressionPrevention::test_logging_consistency
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLoggingRegressionPrevention::test_logging_order
tests/unit/test_agentic_loop_logging.py::TestAgenticLoopLoggingRegressionGuard::test_no_duplicate_or_missing_logs
tests/unit/test_agents.py::test_async_agent_wrapper_success
tests/unit/test_agents.py::test_async_agent_wrapper_retry_then_success
tests/unit/test_agents.py::test_async_agent_wrapper_timeout
tests/unit/test_agents.py::test_async_agent_wrapper_exception
tests/unit/test_agents.py::test_async_agent_wrapper_temperature_passed_directly
tests/unit/test_agents.py::test_noop_reflection_agent
tests/unit/test_agents.py::test_get_reflection_agent_disabled
tests/unit/test_agents.py::test_get_reflection_agent_creation_failure
tests/unit/test_agents.py::test_logging_review_agent_success
tests/unit/test_agents.py::test_logging_review_agent_error
tests/unit/test_agents.py::test_async_agent_wrapper_agent_failed_string
tests/unit/test_agents.py::test_logging_review_agent_run_async_fallback
tests/unit/test_agents.py::test_logging_review_agent_run_async_non_callable
tests/unit/test_agents.py::test_async_agent_wrapper_agent_failed_string_only
tests/unit/test_agents.py::test_make_agent_async_injects_key
tests/unit/test_agents.py::test_make_agent_async_missing_key
tests/unit/test_agents.py::test_async_agent_wrapper_timeout_validation
tests/unit/test_agents.py::test_async_agent_wrapper_with_dummy_agent
tests/unit/test_agents.py::test_async_agent_wrapper_init_valid_args
tests/unit/test_agents.py::test_async_agent_wrapper_init_default_timeout
tests/unit/test_agents.py::test_async_agent_wrapper_init_invalid_max_retries_type
tests/unit/test_agents.py::test_async_agent_wrapper_init_negative_max_retries_value
tests/unit/test_agents.py::test_async_agent_wrapper_init_invalid_timeout_type
tests/unit/test_agents.py::test_async_agent_wrapper_init_non_positive_timeout_value
tests/unit/test_agents.py::test_async_agent_wrapper_runtime_timeout
tests/unit/test_agents.py::test_make_self_improvement_agent_uses_settings_default
tests/unit/test_agents.py::test_make_repair_agent_uses_settings_default
tests/unit/test_agents.py::test_make_self_improvement_agent_uses_override_model
tests/unit/test_agents.py::test_make_repair_agent_uses_override_model
tests/unit/test_agents.py::test_async_agent_wrapper_serializes_pydantic_input
tests/unit/test_agents.py::test_async_agent_wrapper_passthrough_non_model
tests/unit/test_agents.py::test_async_agent_wrapper_serializes_pydantic_kwarg
tests/unit/test_agents.py::test_make_agent_async_no_extra_processors
tests/unit/test_agents.py::test_make_agent_async_custom_processor_order
tests/unit/test_agents.py::test_pydantic_output_parsed_by_agent
tests/unit/test_agents.py::test_make_agent_async_type_adapter
tests/unit/test_agents.py::test_make_agent_async_type_adapter_complex_nested
tests/unit/test_agents.py::test_make_agent_async_type_adapter_union_types
tests/unit/test_agents.py::test_unwrap_type_adapter_function
tests/unit/test_architect_builder.py::test_build_architect_pipeline_minimal
tests/unit/test_as_step.py::test_agentic_loop_as_step_basic
tests/unit/test_as_step.py::test_flujo_as_step_basic
tests/unit/test_auto_repair.py::test_deterministic_processor_cleans_trailing_text
tests/unit/test_auto_repair.py::test_async_agent_wrapper_deterministic_repair
tests/unit/test_auto_repair.py::test_async_agent_wrapper_llm_repair
tests/unit/test_auto_repair.py::test_balance_removes_and_adds_braces
tests/unit/test_auto_repair.py::test_balance_ignores_braces_in_strings
tests/unit/test_auto_repair.py::test_async_agent_wrapper_llm_repair_invalid_json
tests/unit/test_auto_repair.py::test_repair_prompt_handles_braces
tests/unit/test_blueprint_compiler_gpt5.py::test_compiler_passes_model_settings
tests/unit/test_blueprint_compiler_order.py::test_compiler_compiles_agents_before_steps
tests/unit/test_blueprint_loader.py::TestAsyncExitConditionRejection::test_async_exit_condition_raises_blueprint_error
tests/unit/test_blueprint_loader.py::TestAsyncExitConditionRejection::test_sync_exit_condition_accepted
tests/unit/test_blueprint_loader.py::TestAsyncExitConditionRejection::test_exit_expression_still_works
tests/unit/test_blueprint_loader.py::TestAsyncConditionRejection::test_async_condition_raises_blueprint_error
tests/unit/test_blueprint_loader.py::TestAsyncConditionRejection::test_sync_condition_accepted
tests/unit/test_blueprint_loader.py::TestAsyncConditionRejection::test_condition_expression_still_works
tests/unit/test_blueprint_loader.py::TestErrorMessageQuality::test_exit_condition_error_includes_helpful_example
tests/unit/test_blueprint_loader.py::TestErrorMessageQuality::test_condition_error_includes_helpful_example
tests/unit/test_blueprint_name_and_execution_results.py::test_blueprint_name_is_propagated_to_pipeline
tests/unit/test_blueprint_name_and_execution_results.py::test_execution_manager_appends_all_step_results_async[asyncio]
tests/unit/test_blueprint_name_and_execution_results.py::test_execution_manager_appends_all_step_results_async[trio]
tests/unit/test_blueprint_name_and_execution_results.py::test_execution_manager_appends_all_step_results_sync
tests/unit/test_blueprint_prompt_from_file.py::test_system_prompt_from_file_success
tests/unit/test_blueprint_prompt_from_file.py::test_system_prompt_from_file_not_found
tests/unit/test_blueprint_prompt_from_file.py::test_system_prompt_from_file_sandbox
tests/unit/test_blueprint_prompt_from_file.py::test_system_prompt_plain_string_backward_compat
tests/unit/test_blueprint_prompt_template.py::test_compiler_wires_templated_wrapper
tests/unit/test_bug_regression.py::TestCircularReferenceSerialization::test_circular_reference_detection
tests/unit/test_bug_regression.py::TestCircularReferenceSerialization::test_self_reference
tests/unit/test_bug_regression.py::TestCircularReferenceSerialization::test_deep_circular_reference
tests/unit/test_bug_regression.py::TestFailedStepRecording::test_failed_step_recording
tests/unit/test_bug_regression.py::TestLambdaSerializationNullHandling::test_lambda_null_handling
tests/unit/test_bug_regression.py::TestSerializationEdgeCases::test_unknown_type_serialization
tests/unit/test_bug_regression.py::TestSerializationEdgeCases::test_custom_object_with_circular_ref
tests/unit/test_bug_regression.py::TestSerializationEdgeCases::test_serialization_error_handling
tests/unit/test_bug_regression.py::TestPerformanceRegression::test_serialization_performance
tests/unit/test_bug_regression.py::TestPerformanceRegression::test_database_operation_performance
tests/unit/test_bug_regression.py::TestCIEnvironmentCompatibility::test_memory_efficient_serialization
tests/unit/test_bug_regression.py::TestCIEnvironmentCompatibility::test_concurrent_serialization
tests/unit/test_bug_regression.py::TestEdgeCaseRobustness::test_extremely_deep_nesting
tests/unit/test_bug_regression.py::TestEdgeCaseRobustness::test_large_string_handling
tests/unit/test_bug_regression.py::TestEdgeCaseRobustness::test_special_characters
tests/unit/test_builtins.py::test_extract_decomposed_steps_from_model
tests/unit/test_builtins.py::test_extract_decomposed_steps_from_dict
tests/unit/test_builtins.py::test_aggregate_plan_combines_goal_and_steps
tests/unit/test_builtins.py::test_web_search_returns_simplified_results
tests/unit/test_builtins.py::test_web_search_when_dependency_missing_returns_empty
tests/unit/test_builtins.py::test_extract_from_text_returns_agent_dict
tests/unit/test_builtins.py::test_extract_from_text_wraps_non_dict_output
tests/unit/test_builtins.py::test_check_user_confirmation_affirmatives
tests/unit/test_builtins.py::test_check_user_confirmation_negatives
tests/unit/test_builtins.py::test_check_user_confirmation_whitespace_defaults_to_approved
tests/unit/test_builtins.py::test_passthrough_skill_identity
tests/unit/test_builtins.py::test_validate_yaml_skill_handles_invalid_yaml_gracefully
tests/unit/test_builtins.py::test_validate_yaml_skill_accepts_minimal_valid_yaml
tests/unit/test_builtins_context_helpers.py::test_context_set_simple_path
tests/unit/test_builtins_context_helpers.py::test_context_set_nested_path
tests/unit/test_builtins_context_helpers.py::test_context_set_without_context
tests/unit/test_builtins_context_helpers.py::test_context_merge_dict
tests/unit/test_builtins_context_helpers.py::test_context_merge_creates_path_if_missing
tests/unit/test_builtins_context_helpers.py::test_context_get_with_default
tests/unit/test_builtins_context_helpers.py::test_context_get_nested
tests/unit/test_builtins_context_helpers.py::test_context_get_without_context
tests/unit/test_builtins_context_helpers.py::test_context_helpers_type_safety
tests/unit/test_builtins_context_helpers.py::test_context_set_updates_existing
tests/unit/test_builtins_context_helpers.py::test_context_merge_empty_dict
tests/unit/test_cache_step.py::TestCacheStep::test_cache_step_cached_classmethod
tests/unit/test_cache_step.py::TestCacheStep::test_cache_step_cached_classmethod_with_none_backend
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_none
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_circular_reference_step
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_circular_reference_node
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_circular_reference_with_model_dump
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_circular_reference_dict
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_circular_reference_list
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_circular_reference_set
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_circular_reference_generic
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_with_custom_serializer_exception
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_step_with_agent_field
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_node_with_circular_next
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_node_with_non_circular_next
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_dict_with_run_id_and_initial_prompt
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_dict_with_custom_serializer_for_values
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_dict_with_model_dump_value_exception
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_dict_with_model_dump_value_recursion_error
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_callable
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_callable_without_name
tests/unit/test_cache_step.py::TestSerializeForCacheKey::test_serialize_exception_fallback
tests/unit/test_cache_step.py::TestSortSetDeterministically::test_sort_set_deterministically_success
tests/unit/test_cache_step.py::TestSortSetDeterministically::test_sort_set_deterministically_with_complex_objects
tests/unit/test_cache_step.py::TestSortSetDeterministically::test_sort_set_deterministically_frozen_set
tests/unit/test_cache_step.py::TestSortSetDeterministically::test_sort_set_deterministically_with_exception
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_none
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_circular_reference
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_primitive_types
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_list
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_tuple
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_dict
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_set
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_frozen_set
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_model_with_run_id
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_model_with_recursion_error
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_model_with_value_error
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_callable
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_callable_without_module
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_hashable_object
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_unhashable_object
tests/unit/test_cache_step.py::TestGetStableRepr::test_get_stable_repr_object_with_hash_exception
tests/unit/test_cache_step.py::TestSerializeListForKey::test_serialize_list_for_key_circular_reference_model
tests/unit/test_cache_step.py::TestSerializeListForKey::test_serialize_list_for_key_circular_reference_dict
tests/unit/test_cache_step.py::TestSerializeListForKey::test_serialize_list_for_key_circular_reference_list
tests/unit/test_cache_step.py::TestSerializeListForKey::test_serialize_list_for_key_circular_reference_set
tests/unit/test_cache_step.py::TestSerializeListForKey::test_serialize_list_for_key_circular_reference_generic
tests/unit/test_cache_step.py::TestSerializeListForKey::test_serialize_list_for_key_with_model_dump
tests/unit/test_cache_step.py::TestSerializeListForKey::test_serialize_list_for_key_with_dict
tests/unit/test_cache_step.py::TestSerializeListForKey::test_serialize_list_for_key_with_list
tests/unit/test_cache_step.py::TestSerializeListForKey::test_serialize_list_for_key_with_set
tests/unit/test_cache_step.py::TestSerializeListForKey::test_serialize_list_for_key_with_custom_serializer
tests/unit/test_cache_step.py::TestSerializeListForKey::test_serialize_list_for_key_with_custom_serializer_exception
tests/unit/test_cache_step.py::TestCreateStepFingerprint::test_create_step_fingerprint_basic
tests/unit/test_cache_step.py::TestCreateStepFingerprint::test_create_step_fingerprint_without_agent
tests/unit/test_cache_step.py::TestGenerateCacheKey::test_generate_cache_key_success
tests/unit/test_cache_step.py::TestGenerateCacheKey::test_generate_cache_key_with_none_values
tests/unit/test_cache_step.py::TestGenerateCacheKey::test_generate_cache_key_json_exception_pickle_success
tests/unit/test_cache_step.py::TestGenerateCacheKey::test_generate_cache_key_both_json_and_pickle_fail
tests/unit/test_cache_yaml_support.py::test_load_cache_step_wraps_inner_step
tests/unit/test_cache_yaml_support.py::test_dump_cache_step_emits_cache_kind
tests/unit/test_ci_compatibility.py::TestCISerializationCompatibility::test_serialization_consistency_across_environments
tests/unit/test_ci_compatibility.py::TestCISerializationCompatibility::test_memory_efficient_serialization
tests/unit/test_ci_compatibility.py::TestCISerializationCompatibility::test_error_handling_robustness
tests/unit/test_ci_compatibility.py::TestCISerializationCompatibility::test_circular_reference_in_ci
tests/unit/test_ci_compatibility.py::TestCIResourceConstraints::test_low_memory_serialization
tests/unit/test_ci_compatibility.py::TestCIResourceConstraints::test_concurrent_access_safety
tests/unit/test_ci_compatibility.py::TestCIPlatformCompatibility::test_platform_independent_serialization
tests/unit/test_ci_compatibility.py::TestCIPlatformCompatibility::test_python_version_compatibility
tests/unit/test_ci_compatibility.py::TestCITimingIssues::test_slow_serialization_handling
tests/unit/test_ci_compatibility.py::TestCITimingIssues::test_timeout_robustness
tests/unit/test_ci_compatibility.py::TestCIErrorRecovery::test_graceful_degradation
tests/unit/test_ci_compatibility.py::TestCIErrorRecovery::test_partial_failure_handling
tests/unit/test_cli.py::test_cli_solve_happy_path
tests/unit/test_cli.py::test_cli_solve_custom_models
tests/unit/test_cli.py::test_cli_bench_command
tests/unit/test_cli.py::test_cli_solve_with_weights
tests/unit/test_cli.py::test_cli_solve_weights_file_not_found
tests/unit/test_cli.py::test_cli_solve_weights_file_invalid_json
tests/unit/test_cli.py::test_cli_solve_weights_invalid_structure
tests/unit/test_cli.py::test_cli_solve_weights_missing_keys
tests/unit/test_cli.py::test_cli_solve_context_data_safe_deserialize
tests/unit/test_cli.py::test_cli_add_eval_case_uses_safe_deserialize
tests/unit/test_cli.py::test_cli_solve_weights_file_safe_deserialize
tests/unit/test_cli.py::test_cli_solve_keyboard_interrupt
tests/unit/test_cli.py::test_cli_bench_keyboard_interrupt
tests/unit/test_cli.py::test_cli_version_cmd_package_not_found
tests/unit/test_cli.py::test_cli_main_callback_profile
tests/unit/test_cli.py::test_cli_solve_configuration_error
tests/unit/test_cli.py::test_cli_explain
tests/unit/test_cli.py::test_cli_validate_success
tests/unit/test_cli.py::test_cli_validate_failure
tests/unit/test_cli.py::test_cli_improve_output_formatting
tests/unit/test_cli.py::test_cli_improve_json_output
tests/unit/test_cli.py::test_cli_help
tests/unit/test_cli.py::test_cli_run
tests/unit/test_cli.py::test_cli_run_with_args
tests/unit/test_cli.py::test_cli_run_with_invalid_args
tests/unit/test_cli.py::test_cli_run_with_invalid_model
tests/unit/test_cli.py::test_cli_run_with_invalid_retries
tests/unit/test_cli.py::test_cli_run_with_invalid_agent_timeout
tests/unit/test_cli.py::test_cli_run_with_invalid_review_model
tests/unit/test_cli.py::test_cli_run_with_invalid_review_model_path
tests/unit/test_cli.py::test_cli_add_eval_case_prints_correct_case_string
tests/unit/test_cli.py::test_cli_add_eval_case_handles_missing_dataset_file_gracefully
tests/unit/test_cli.py::test_cli_add_eval_case_invalid_metadata_json
tests/unit/test_cli.py::test_cli_improve_uses_custom_improvement_model
tests/unit/test_cli.py::test_apply_cli_defaults_helper
tests/unit/test_cli_config.py::test_normalize_sqlite_path_relative[sqlite:///foo.db-foo.db]
tests/unit/test_cli_config.py::test_normalize_sqlite_path_relative[sqlite:///./foo.db-./foo.db]
tests/unit/test_cli_config.py::test_normalize_sqlite_path_relative[sqlite:////abs/path.db-/abs/path.db]
tests/unit/test_cli_config.py::test_normalize_sqlite_path_relative[sqlite:///../data/ops.db-../data/ops.db]
tests/unit/test_cli_config.py::test_normalize_sqlite_path_relative[sqlite:///subdir/bar.db-subdir/bar.db]
tests/unit/test_cli_config.py::test_normalize_sqlite_path_relative[sqlite:///./subdir/bar.db-./subdir/bar.db]
tests/unit/test_cli_config.py::test_normalize_sqlite_path_absolute
tests/unit/test_cli_config.py::test_normalize_sqlite_path_edge_cases
tests/unit/test_cli_config.py::TestConfigWarning::test_warning_displayed_when_no_env_and_no_config
tests/unit/test_cli_config.py::TestConfigWarning::test_no_warning_when_env_var_set
tests/unit/test_cli_config.py::TestConfigWarning::test_no_warning_when_config_file_has_state_uri
tests/unit/test_cli_config_backend.py::test_env_uri_precedence_over_test_mode
tests/unit/test_cli_config_backend.py::test_test_mode_uses_isolated_dir
tests/unit/test_cli_config_backend.py::test_default_non_test_mode_uses_cwd
tests/unit/test_cli_config_backend.py::test_postgres_uri_returns_backend
tests/unit/test_cli_display_run_id.py::test_display_uses_generated_run_id
tests/unit/test_cli_display_run_id.py::test_display_prefers_cli_run_id
tests/unit/test_cli_init.py::test_init_creates_scaffold
tests/unit/test_cli_init.py::test_init_existing_project_requires_force
tests/unit/test_cli_init.py::test_init_force_prompts_and_overwrites
tests/unit/test_cli_init.py::test_init_force_yes_skips_prompt_and_overwrites
tests/unit/test_cli_parameter_integration.py::TestCLIParameterIntegration::test_cli_solve_command_parameters
tests/unit/test_cli_parameter_integration.py::TestCLIParameterIntegration::test_cli_bench_command_parameters
tests/unit/test_cli_parameter_integration.py::TestCLIParameterIntegration::test_parameter_mapping_consistency
tests/unit/test_cli_parameter_integration.py::TestCLIParameterIntegration::test_default_parameter_values
tests/unit/test_cli_parameter_integration.py::TestCLIParameterIntegration::test_parameter_validation
tests/unit/test_cli_parameter_integration.py::TestCLIParameterIntegration::test_async_execution_compatibility
tests/unit/test_cli_parameter_integration.py::TestCLIParameterRegressionPrevention::test_no_parameter_loss
tests/unit/test_cli_parameter_integration.py::TestCLIParameterRegressionPrevention::test_parameter_documentation
tests/unit/test_cli_parameter_integration.py::TestCLIParameterRegressionPrevention::test_cli_integration_consistency
tests/unit/test_cli_parameter_integration.py::TestCLIParameterRegressionPrevention::test_parameter_type_consistency
tests/unit/test_cli_parameter_integration.py::TestCLIParameterRegressionPrevention::test_optional_parameter_handling
tests/unit/test_cli_performance_edge_cases.py::TestCLIPerformanceEdgeCases::test_lens_list_with_large_mixed_database
tests/unit/test_cli_performance_edge_cases.py::TestCLIPerformanceEdgeCases::test_lens_list_with_various_filters
tests/unit/test_cli_performance_edge_cases.py::TestCLIPerformanceEdgeCases::test_lens_show_with_various_run_ids
tests/unit/test_cli_performance_edge_cases.py::TestCLIPerformanceEdgeCases::test_cli_performance_with_concurrent_access
tests/unit/test_cli_performance_edge_cases.py::TestCLIPerformanceEdgeCases::test_cli_performance_with_nonexistent_data
tests/unit/test_cli_performance_edge_cases.py::TestCLIPerformanceEdgeCases::test_database_index_optimization
tests/unit/test_cli_performance_edge_cases.py::TestCLIPerformanceEdgeCases::test_database_concurrent_writes
tests/unit/test_cli_performance_edge_cases.py::TestCLIPerformanceEdgeCases::test_database_memory_usage
tests/unit/test_cli_performance_edge_cases.py::TestCLIPerformanceEdgeCases::test_database_corruption_recovery
tests/unit/test_cli_performance_edge_cases.py::TestCLIErrorHandling::test_cli_fails_with_unwritable_path_unix
tests/unit/test_cli_performance_edge_cases.py::TestCLIErrorHandling::test_cli_skipped_on_windows
tests/unit/test_cli_performance_edge_cases.py::TestCLIErrorHandling::test_cli_skipped_as_root
tests/unit/test_cli_performance_edge_cases.py::TestCLIErrorHandling::test_cli_with_malformed_environment_variable
tests/unit/test_cli_performance_edge_cases.py::TestCLIErrorHandling::test_cli_with_missing_environment_variable
tests/unit/test_compiler_name_propagation.py::test_compiler_propagates_pipeline_name
tests/unit/test_compiler_name_propagation.py::test_compiler_trims_pipeline_name_whitespace
tests/unit/test_conditional_bool_policy.py::test_conditional_policy_coerces_boolean_branch_key_true
tests/unit/test_conditional_bool_policy.py::test_conditional_policy_coerces_boolean_branch_key_false
tests/unit/test_conditional_policy_contract.py::test_conditional_policy_calls_condition_with_original_data_and_context
tests/unit/test_conditional_step.py::test_conditional_step_init_validation
tests/unit/test_conditional_step.py::test_step_factory_branch_on
tests/unit/test_conditional_step.py::TestConditionalStep::test_conditional_step_init_with_valid_branches
tests/unit/test_conditional_step.py::TestConditionalStep::test_conditional_step_init_with_default_branch
tests/unit/test_conditional_step.py::TestConditionalStep::test_conditional_step_init_with_mappers
tests/unit/test_conditional_step.py::TestConditionalStep::test_conditional_step_validation_empty_branches_dict_args
tests/unit/test_conditional_step.py::TestConditionalStep::test_conditional_step_validation_empty_branches_kwargs
tests/unit/test_conditional_step.py::TestConditionalStep::test_conditional_step_validation_invalid_branch_type
tests/unit/test_conditional_step.py::TestConditionalStep::test_conditional_step_validation_invalid_default_branch_type
tests/unit/test_conditional_step.py::TestConditionalStep::test_conditional_step_repr
tests/unit/test_conditional_step.py::TestConditionalStep::test_conditional_step_repr_multiple_branches
tests/unit/test_conditional_step.py::TestConditionalStep::test_step_factory_branch_on_with_default_branch
tests/unit/test_conditional_step.py::TestConditionalStep::test_step_factory_branch_on_with_mappers
tests/unit/test_conditional_step.py::TestConditionalStep::test_conditional_step_model_validate_with_kwargs
tests/unit/test_conditional_step.py::TestConditionalStep::test_conditional_step_model_validate_with_dict_args
tests/unit/test_conditional_step_executor_context.py::test_conditional_executor_isolates_and_merges
tests/unit/test_conditional_step_policy.py::test_conditional_policy_success_and_failure_paths
tests/unit/test_conditional_step_policy.py::test_conditional_policy_returns_failure_on_paused_branch
tests/unit/test_conditional_step_policy.py::test_conditional_branch_executes_parallel_with_quota_split
tests/unit/test_config_manager.py::TestConfigManager::test_empty_config
tests/unit/test_config_manager.py::TestConfigManager::test_empty_config_uses_cache_until_force_reload
tests/unit/test_config_manager.py::TestConfigManager::test_basic_config_loading
tests/unit/test_config_manager.py::TestConfigManager::test_cli_defaults
tests/unit/test_config_manager.py::TestConfigManager::test_settings_override
tests/unit/test_config_manager.py::TestConfigManager::test_config_file_discovery
tests/unit/test_config_manager.py::TestConfigManager::test_parent_directory_search
tests/unit/test_config_manager.py::TestConfigManager::test_invalid_config_file
tests/unit/test_config_manager.py::TestConfigManager::test_invalid_section_shapes
tests/unit/test_config_manager.py::TestConfigManager::test_missing_config_file
tests/unit/test_config_manager.py::TestConfigManager::test_global_functions
tests/unit/test_config_manager.py::TestConfigManager::test_env_file_loading_from_toml
tests/unit/test_config_manager.py::TestConfigManager::test_env_file_respects_env_override
tests/unit/test_config_manager.py::TestConfigManager::test_env_file_missing_is_non_fatal
tests/unit/test_config_manager.py::TestConfigManager::test_state_uri_environment_precedence
tests/unit/test_config_manager.py::TestConfigManager::test_config_manager_process_cache
tests/unit/test_config_manager.py::TestConfigManager::test_settings_integration
tests/unit/test_config_manager.py::TestConfigManager::test_invalid_k_variants_env
tests/unit/test_config_manager.py::TestConfigManager::test_template_config_loading
tests/unit/test_config_manager.py::TestConfigurationModels::test_flujo_config
tests/unit/test_config_manager.py::TestConfigurationModels::test_solve_config
tests/unit/test_config_manager.py::TestConfigurationModels::test_settings_overrides
tests/unit/test_config_precedence.py::test_loop_meta_overrides_config_defaults
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_register_custom_type_integration
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_type_resolution_context_thread_safety
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_module_scope_resolution
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_type_validation
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_extract_union_types_type_system
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_extract_union_types_modern_syntax
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_resolve_actual_type
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_deserialize_value_integration
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_performance_improvement
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_deterministic_behavior
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_backward_compatibility
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_error_handling
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_complex_union_handling
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_module_resolver_caching
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_type_hints_integration
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_concurrent_type_resolution
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_serialization_integration
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_context_injection_with_type_system
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_future_proof_design
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_security_no_frame_access
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_type_system_integration
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_robust_error_recovery
tests/unit/test_context_adapter_type_resolution.py::TestTypeResolution::test_performance_under_load
tests/unit/test_context_aware_protocol.py::test_context_aware_agent_no_warning
tests/unit/test_context_aware_protocol.py::test_legacy_agent_works_with_context
tests/unit/test_context_merge_conflicts.py::test_safe_merge_conflict_errors_on_context_update
tests/unit/test_context_merge_conflicts.py::test_safe_merge_conflict_errors_on_error_on_conflict
tests/unit/test_context_merge_conflicts.py::test_safe_merge_conflict_allowed_on_overwrite
tests/unit/test_context_merge_conflicts.py::test_safe_merge_no_error_when_values_equal
tests/unit/test_context_strategies.py::test_lenient_isolation_deep_copies_scratchpad
tests/unit/test_context_strategies.py::test_selective_isolation_preserves_only_requested_fields
tests/unit/test_context_strategies.py::test_strategy_resolution_honors_strict_settings
tests/unit/test_conversation_finish_skip.py::test_conversation_history_skips_finish_artifact
tests/unit/test_conversation_processor.py::test_processor_injects_into_string_prompt
tests/unit/test_conversation_processor.py::test_processor_injects_into_dict_prompt
tests/unit/test_conversation_processor.py::test_processor_no_history_passthrough
tests/unit/test_conversation_processor.py::test_processor_filters_tool_artifacts_injection
tests/unit/test_conversation_processor.py::test_processor_calls_redaction
tests/unit/test_cost_mock_safety.py::test_extract_usage_metrics_with_mock_explicit_cost_is_zero
tests/unit/test_cost_mock_safety.py::test_extract_usage_metrics_with_numeric_explicit_cost
tests/unit/test_cost_mock_safety.py::test_extract_usage_metrics_usage_with_mocks_yields_zero
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_extract_usage_metrics_with_usage_info
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_extract_usage_metrics_without_usage_info
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_extract_usage_metrics_with_exception
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_extract_usage_metrics_with_different_agent_types
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_extract_usage_metrics_with_explicit_metrics
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_extract_usage_metrics_with_mock_explicit_metrics
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_extract_usage_metrics_with_usage_mock_counts
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_extract_usage_metrics_with_model_id_parsing
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_extract_usage_metrics_warning_for_missing_model
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_extract_usage_metrics_no_model_info_available
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_extract_usage_metrics_graceful_fallback
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_explicit_cost_reporter_protocol_priority
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_explicit_cost_reporter_protocol_with_only_cost
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_explicit_cost_reporter_protocol_with_cost_and_tokens
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_explicit_cost_reporter_protocol_with_zero_cost
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_explicit_cost_reporter_protocol_with_negative_cost
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_explicit_cost_reporter_protocol_with_none_cost
tests/unit/test_cost_tracking.py::TestExtractUsageMetrics::test_explicit_cost_reporter_protocol_with_none_tokens
tests/unit/test_cost_tracking.py::TestCostCalculator::test_calculate_cost_with_pricing
tests/unit/test_cost_tracking.py::TestCostCalculator::test_calculate_cost_no_pricing
tests/unit/test_cost_tracking.py::TestCostCalculator::test_calculate_cost_with_provider_inference
tests/unit/test_cost_tracking.py::TestCostCalculator::test_calculate_cost_unknown_provider_returns_zero
tests/unit/test_cost_tracking.py::TestCostCalculator::test_infer_provider_from_model
tests/unit/test_cost_tracking.py::TestCostCalculator::test_infer_provider_from_model_edge_cases
tests/unit/test_cost_tracking.py::TestCostCalculator::test_cost_calculation_edge_cases
tests/unit/test_cost_tracking.py::TestCostCalculator::test_provider_inference_comprehensive
tests/unit/test_cost_tracking.py::TestCostCalculator::test_cost_calculation_precision
tests/unit/test_cost_tracking.py::TestCostCalculator::test_ci_environment_fallback_with_existing_config
tests/unit/test_cost_tracking.py::TestCostCalculator::test_ci_environment_fallback_for_failing_models
tests/unit/test_cost_tracking.py::TestCostCalculator::test_ci_environment_fallback_with_strict_pricing
tests/unit/test_cost_tracking.py::TestCostCalculator::test_cost_calculation_for_embedding_models
tests/unit/test_cost_tracking.py::TestCostCalculator::test_error_handling_robustness
tests/unit/test_cost_tracking.py::TestCostCalculator::test_integration_with_real_pricing_config
tests/unit/test_cost_tracking.py::TestCostCalculator::test_backward_compatibility
tests/unit/test_cost_tracking.py::TestProviderPricing::test_provider_pricing_creation
tests/unit/test_cost_tracking.py::TestProviderPricing::test_provider_pricing_validation
tests/unit/test_cost_tracking.py::TestCostConfig::test_get_provider_pricing_with_valid_data
tests/unit/test_cost_tracking.py::TestCostConfig::test_get_provider_pricing_with_default_pricing
tests/unit/test_cost_tracking.py::TestStrictPricingMode::test_strict_mode_off_default_behavior
tests/unit/test_cost_tracking.py::TestStrictPricingMode::test_strict_mode_off_with_default_pricing
tests/unit/test_cost_tracking.py::TestStrictPricingMode::test_strict_mode_on_with_user_config
tests/unit/test_cost_tracking.py::TestStrictPricingMode::test_strict_mode_on_without_user_config_raises_error
tests/unit/test_cost_tracking.py::TestStrictPricingMode::test_strict_mode_on_with_unknown_model_raises_error
tests/unit/test_cost_tracking.py::TestStrictPricingMode::test_strict_mode_on_with_unknown_provider_raises_error
tests/unit/test_cost_tracking.py::TestStrictPricingMode::test_strict_mode_on_with_none_provider_raises_error
tests/unit/test_cost_tracking.py::TestStrictPricingMode::test_strict_mode_does_not_fallback_to_hardcoded_defaults
tests/unit/test_cost_tracking.py::TestStrictPricingMode::test_cost_config_strict_field_default
tests/unit/test_cost_tracking.py::TestStrictPricingMode::test_cost_config_strict_field_explicit
tests/unit/test_cost_tracking.py::TestImageCostPostProcessor::test_image_cost_post_processor_with_valid_pricing
tests/unit/test_cost_tracking.py::TestImageCostPostProcessor::test_image_cost_post_processor_with_hd_quality
tests/unit/test_cost_tracking.py::TestImageCostPostProcessor::test_image_cost_post_processor_with_missing_pricing
tests/unit/test_cost_tracking.py::TestImageCostPostProcessor::test_image_cost_post_processor_with_no_images
tests/unit/test_cost_tracking.py::TestImageCostPostProcessor::test_image_cost_post_processor_with_no_usage_details
tests/unit/test_cost_tracking.py::TestImageCostPostProcessor::test_image_cost_post_processor_with_no_usage
tests/unit/test_cost_tracking.py::TestImageCostPostProcessor::test_image_cost_post_processor_with_different_sizes
tests/unit/test_cost_tracking.py::TestImageModelDetection::test_is_image_generation_model_with_dall_e
tests/unit/test_cost_tracking.py::TestImageModelDetection::test_is_image_generation_model_with_other_image_models
tests/unit/test_cost_tracking.py::TestImageModelDetection::test_is_image_generation_model_with_chat_models
tests/unit/test_cost_tracking.py::TestImageModelDetection::test_is_image_generation_model_with_edge_cases
tests/unit/test_cost_tracking.py::TestImageCostPostProcessorAttachment::test_attach_image_cost_post_processor_with_valid_pricing
tests/unit/test_cost_tracking.py::TestImageCostPostProcessorAttachment::test_attach_image_cost_post_processor_with_missing_pricing
tests/unit/test_cost_tracking.py::TestImageCostPostProcessorAttachment::test_attach_image_cost_post_processor_with_no_image_pricing
tests/unit/test_cost_tracking.py::TestImageCostPostProcessorAttachment::test_attach_image_cost_post_processor_with_invalid_provider
tests/unit/test_cost_tracking.py::TestImageCostPostProcessorAttachment::test_make_agent_async_with_image_model
tests/unit/test_cost_tracking.py::TestImageCostPostProcessorAttachment::test_make_agent_async_with_chat_model
tests/unit/test_cost_tracking.py::TestBug1CustomOutputCostCalculation::test_custom_output_with_explicit_cost_should_not_split_tokens
tests/unit/test_cost_tracking.py::TestBug1CustomOutputCostCalculation::test_custom_output_with_cost_only_should_trust_explicit_cost
tests/unit/test_cost_tracking.py::TestBug1CustomOutputCostCalculation::test_custom_output_should_not_recalculate_cost_from_tokens
tests/unit/test_cost_tracking.py::TestBug2UsageLimitPrecedence::test_step_level_limits_should_override_pipeline_level_limits
tests/unit/test_cost_tracking.py::TestBug2UsageLimitPrecedence::test_step_level_limits_with_none_pipeline_limits
tests/unit/test_cost_tracking.py::TestBug2UsageLimitPrecedence::test_pipeline_level_limits_with_none_step_limits
tests/unit/test_cost_tracking.py::TestBug2UsageLimitPrecedence::test_both_limits_none
tests/unit/test_cost_tracking.py::TestBug3AttributeErrorOnAgentType::test_simple_function_agent_should_not_crash
tests/unit/test_cost_tracking.py::TestBug3AttributeErrorOnAgentType::test_plain_class_agent_should_not_crash
tests/unit/test_cost_tracking.py::TestBug3AttributeErrorOnAgentType::test_agent_with_missing_model_attributes_should_gracefully_handle
tests/unit/test_cost_tracking.py::TestBug3AttributeErrorOnAgentType::test_agent_with_attribute_error_should_gracefully_handle
tests/unit/test_cost_tracking.py::TestBug4ImprovedModelIdExtraction::test_agent_with_explicit_model_id_should_work
tests/unit/test_cost_tracking.py::TestBug4ImprovedModelIdExtraction::test_agent_with_model_attribute_should_work
tests/unit/test_cost_tracking.py::TestBug4ImprovedModelIdExtraction::test_agent_with_private_model_name_should_work
tests/unit/test_cost_tracking.py::TestBug4ImprovedModelIdExtraction::test_agent_without_model_id_logs_helpful_warning
tests/unit/test_cost_tracking.py::TestBug5RobustProviderInference::test_unknown_provider_should_return_zero_cost
tests/unit/test_cost_tracking.py::TestBug5RobustProviderInference::test_ambiguous_model_names_should_not_infer_provider
tests/unit/test_cost_tracking.py::TestBug5RobustProviderInference::test_known_provider_with_unknown_model_should_return_zero_cost
tests/unit/test_cost_tracking.py::TestBug5RobustProviderInference::test_empty_model_name_should_return_zero_cost
tests/unit/test_cost_tracking.py::TestBug5RobustProviderInference::test_none_model_name_should_return_zero_cost
tests/unit/test_cost_tracking.py::TestIntegrationRegressionTests::test_custom_output_with_step_limits_and_simple_agent
tests/unit/test_cost_tracking.py::TestIntegrationRegressionTests::test_usage_limit_precedence_with_custom_output
tests/unit/test_cost_tracking.py::TestEdgeCasesAndRobustness::test_custom_output_with_zero_cost
tests/unit/test_cost_tracking.py::TestEdgeCasesAndRobustness::test_custom_output_with_none_cost
tests/unit/test_cost_tracking.py::TestEdgeCasesAndRobustness::test_agent_with_complex_model_id_parsing
tests/unit/test_cost_tracking.py::TestEdgeCasesAndRobustness::test_usage_limit_precedence_with_falsy_values
tests/unit/test_default_backend.py::test_runner_uses_sqlite_by_default
tests/unit/test_domain_interfaces.py::test_skill_resolver_is_injected_into_blueprint_loader
tests/unit/test_domain_interfaces.py::test_telemetry_sink_override
tests/unit/test_domain_interfaces_injection.py::test_architect_builder_uses_injected_telemetry_sink
tests/unit/test_domain_interfaces_injection.py::test_blueprint_import_enforces_allowlist_from_injected_config_provider
tests/unit/test_domain_interfaces_injection.py::test_blueprint_loader_uses_injected_skills_discovery
tests/unit/test_domain_interfaces_injection.py::test_skill_registry_provider_scopes_are_distinct
tests/unit/test_domain_models.py::test_improvement_models_round_trip
tests/unit/test_domain_models.py::test_improvement_models_validation
tests/unit/test_domain_models.py::test_improvement_models_config_and_new_case
tests/unit/test_domain_models.py::test_global_custom_serializer_registry
tests/unit/test_domain_models.py::test_base_model_circular_reference_serialization
tests/unit/test_dsl.py::test_step_chaining_operator
tests/unit/test_dsl.py::test_role_based_constructor
tests/unit/test_dsl.py::test_step_configuration
tests/unit/test_dsl.py::test_dsl
tests/unit/test_dsl.py::test_dsl_with_step
tests/unit/test_dsl.py::test_dsl_with_agent
tests/unit/test_dsl.py::test_dsl_with_agent_and_step
tests/unit/test_dsl.py::test_step_class_methods_create_correct_steps
tests/unit/test_dsl.py::test_step_fluent_builder_methods
tests/unit/test_dsl.py::test_step_init_handles_mixed_plugin_formats
tests/unit/test_dsl.py::test_step_from_callable_basic
tests/unit/test_dsl.py::test_step_from_callable_name_and_config
tests/unit/test_dsl.py::test_step_from_callable_bound_method
tests/unit/test_dsl.py::test_step_from_callable_untyped_defaults_any
tests/unit/test_dsl.py::test_step_from_mapper_basic
tests/unit/test_dsl.py::test_step_decorator_basic
tests/unit/test_dsl.py::test_step_decorator_name_and_config
tests/unit/test_dsl.py::test_step_arun_basic
tests/unit/test_dsl.py::test_step_arun_with_context
tests/unit/test_dsl.py::test_step_arun_no_agent
tests/unit/test_dsl.py::test_pipeline_chaining_operator
tests/unit/test_dsl.py::test_step_decorator_matches_from_callable
tests/unit/test_dsl.py::test_step_decorator_matches_kwargs
tests/unit/test_dummy_remote_backend.py::test_dummy_remote_backend_preserves_context
tests/unit/test_dummy_remote_backend.py::test_dummy_remote_backend_roundtrip_complex_input
tests/unit/test_dummy_remote_backend.py::test_dummy_remote_backend_simple_nested_structures
tests/unit/test_dummy_remote_backend.py::test_dummy_remote_backend_list_of_primitives
tests/unit/test_dummy_remote_backend.py::test_dummy_remote_backend_dict_of_primitives
tests/unit/test_dummy_remote_backend.py::test_dummy_remote_backend_edge_cases
tests/unit/test_dummy_remote_backend.py::test_dummy_remote_backend_string_encoded_lists
tests/unit/test_dummy_remote_backend.py::test_dummy_remote_backend_preserves_types
tests/unit/test_dummy_remote_backend.py::test_dummy_remote_backend_multiple_roundtrips
tests/unit/test_dynamic_router.py::TestDynamicParallelRouterStep::test_dynamic_parallel_router_step_init_validation_empty_branches
tests/unit/test_dynamic_router.py::TestDynamicParallelRouterStep::test_dynamic_parallel_router_step_init_with_step_branches
tests/unit/test_dynamic_router.py::TestDynamicParallelRouterStep::test_dynamic_parallel_router_step_init_with_pipeline_branches
tests/unit/test_dynamic_router.py::TestDynamicParallelRouterStep::test_dynamic_parallel_router_step_with_context_include_keys
tests/unit/test_dynamic_router.py::TestDynamicParallelRouterStep::test_dynamic_parallel_router_step_with_merge_strategy
tests/unit/test_dynamic_router.py::TestDynamicParallelRouterStep::test_dynamic_parallel_router_step_with_branch_failure_strategy
tests/unit/test_dynamic_router.py::TestDynamicParallelRouterStep::test_dynamic_parallel_router_step_with_custom_merge_function
tests/unit/test_dynamic_router.py::TestDynamicParallelRouterStep::test_dynamic_parallel_router_step_repr
tests/unit/test_dynamic_router.py::TestDynamicParallelRouterStep::test_dynamic_parallel_router_step_factory_method
tests/unit/test_dynamic_router.py::TestDynamicParallelRouterStep::test_dynamic_parallel_router_step_factory_method_with_all_options
tests/unit/test_dynamic_router.py::TestDynamicParallelRouterStep::test_dynamic_parallel_router_step_model_validate_with_dict_args
tests/unit/test_dynamic_router.py::TestDynamicParallelRouterStep::test_dynamic_parallel_router_step_model_validate_with_kwargs
tests/unit/test_dynamic_router.py::TestDynamicParallelRouterStep::test_dynamic_parallel_router_step_default_values
tests/unit/test_dynamic_router_step_policy.py::test_dynamic_router_paused_returns_paused
tests/unit/test_dynamic_router_step_policy.py::test_dynamic_router_executes_selected_branches_in_order
tests/unit/test_dynamic_router_step_policy.py::test_dynamic_router_no_selected_branches_returns_empty
tests/unit/test_embeddings.py::TestEmbeddingResult::test_embedding_result_creation
tests/unit/test_embeddings.py::TestEmbeddingResult::test_embedding_result_usage_method
tests/unit/test_embeddings.py::TestEmbeddingResult::test_embedding_result_with_zero_tokens
tests/unit/test_embeddings.py::TestOpenAIEmbeddingClient::test_openai_embedding_client_initialization
tests/unit/test_embeddings.py::TestOpenAIEmbeddingClient::test_openai_embedding_client_embed_method
tests/unit/test_embeddings.py::TestOpenAIEmbeddingClient::test_openai_embedding_client_embed_single_text
tests/unit/test_embeddings.py::TestOpenAIEmbeddingClient::test_openai_embedding_client_embed_empty_list
tests/unit/test_embeddings.py::TestOpenAIEmbeddingClient::test_openai_embedding_client_api_error_handling
tests/unit/test_embeddings.py::TestOpenAIEmbeddingClient::test_openai_embedding_client_model_id_format
tests/unit/test_embeddings.py::TestGetEmbeddingClient::test_get_embedding_client_openai
tests/unit/test_embeddings.py::TestGetEmbeddingClient::test_get_embedding_client_unknown_provider
tests/unit/test_embeddings.py::TestGetEmbeddingClient::test_get_embedding_client_invalid_format
tests/unit/test_embeddings.py::TestGetEmbeddingClient::test_get_embedding_client_missing_model
tests/unit/test_embeddings.py::TestGetEmbeddingClient::test_get_embedding_client_empty_provider
tests/unit/test_embeddings.py::TestCostCalculatorForEmbeddings::test_calculate_cost_for_embedding_model
tests/unit/test_embeddings.py::TestCostCalculatorForEmbeddings::test_calculate_cost_for_embedding_model_with_completion_tokens
tests/unit/test_embeddings.py::TestCostCalculatorForEmbeddings::test_calculate_cost_for_embedding_model_no_pricing
tests/unit/test_embeddings.py::TestCostCalculatorForEmbeddings::test_calculate_cost_for_embedding_model_strict_mode
tests/unit/test_embeddings.py::TestCostCalculatorForEmbeddings::test_calculate_cost_for_embedding_model_provider_inference
tests/unit/test_embeddings.py::TestCostCalculatorForEmbeddings::test_calculate_cost_for_embedding_model_edge_cases
tests/unit/test_embeddings.py::TestEmbeddingIntegrationWithCostTracking::test_embedding_result_with_cost_tracking
tests/unit/test_embeddings.py::TestEmbeddingIntegrationWithCostTracking::test_embedding_result_without_model_id
tests/unit/test_embeddings.py::TestEmbeddingIntegrationWithCostTracking::test_embedding_result_with_strict_mode
tests/unit/test_embeddings.py::TestEmbeddingModelPricing::test_embedding_model_pricing_configuration
tests/unit/test_embeddings.py::TestEmbeddingModelPricing::test_embedding_model_pricing_validation
tests/unit/test_embeddings.py::TestEmbeddingModelPricing::test_embedding_model_pricing_different_values
tests/unit/test_error_messages.py::test_improper_step_call
tests/unit/test_error_messages.py::test_missing_agent_errors
tests/unit/test_error_messages.py::test_type_mismatch_errors
tests/unit/test_error_messages.py::test_union_optional_handling
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_literal_escape_marker_in_user_input
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_template_syntax_in_user_input
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_each_block_with_literal_escape_marker
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_nested_object_with_literal_escape_marker
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_mixed_content_with_literal_and_template_syntax
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_multiple_literal_escape_markers
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_escape_marker_in_complex_objects
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_escape_marker_in_base_model
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_conditional_blocks_with_escape_marker
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_nested_conditional_blocks
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_each_block_with_nested_objects
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_escape_marker_edge_cases
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_unique_escape_markers_per_instance
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_escape_marker_with_special_characters
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_escape_marker_in_json_strings
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_escape_marker_with_unicode
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_escape_marker_in_empty_and_none_values
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_escape_marker_regression_original_functionality
tests/unit/test_escape_marker_fix.py::TestEscapeMarkerCollisionFix::test_escape_marker_performance
tests/unit/test_estimator_config_overrides.py::test_toml_config_overrides_estimator
tests/unit/test_evaluators.py::TestFinalSolutionEvaluator::test_evaluate_with_matching_output
tests/unit/test_evaluators.py::TestFinalSolutionEvaluator::test_evaluate_with_non_matching_output
tests/unit/test_evaluators.py::TestFinalSolutionEvaluator::test_evaluate_with_empty_step_history
tests/unit/test_evaluators.py::TestFinalSolutionEvaluator::test_evaluate_with_none_expected_output
tests/unit/test_evaluators.py::TestFinalSolutionEvaluator::test_evaluate_with_multiple_steps
tests/unit/test_evaluators.py::TestFinalSolutionEvaluator::test_evaluate_with_different_types
tests/unit/test_evaluators.py::TestFinalSolutionEvaluator::test_evaluate_with_complex_objects
tests/unit/test_execution_backend.py::test_custom_backend_invoked
tests/unit/test_execution_manager.py::TestStateManager::test_load_workflow_state_no_backend
tests/unit/test_execution_manager.py::TestStateManager::test_load_workflow_state_no_run_id
tests/unit/test_execution_manager.py::TestStateManager::test_load_workflow_state_not_found
tests/unit/test_execution_manager.py::TestStateManager::test_persist_workflow_state_no_backend
tests/unit/test_execution_manager.py::TestStateManager::test_persist_workflow_state_no_run_id
tests/unit/test_execution_manager.py::TestStateManager::test_get_run_id_from_context
tests/unit/test_execution_manager.py::TestStateManager::test_get_run_id_from_context_none
tests/unit/test_execution_manager.py::TestQuotaMode::test_root_quota_constructed_from_usage_limits
tests/unit/test_execution_manager.py::TestQuotaMode::test_execution_manager_accepts_quota_without_usage_governor
tests/unit/test_execution_manager.py::TestTypeValidator::test_validate_step_output_no_next_step
tests/unit/test_execution_manager.py::TestTypeValidator::test_validate_step_output_compatible_types
tests/unit/test_execution_manager.py::TestTypeValidator::test_validate_step_output_incompatible_types
tests/unit/test_execution_manager.py::TestTypeValidator::test_validate_step_output_none_value
tests/unit/test_execution_manager.py::TestTypeValidator::test_get_step_input_type
tests/unit/test_execution_manager.py::TestTypeValidator::test_get_step_output_type
tests/unit/test_execution_manager.py::TestStepCoordinator::test_execute_step_success
tests/unit/test_execution_manager.py::TestStepCoordinator::test_execute_step_failure
tests/unit/test_execution_manager.py::TestStepCoordinator::test_update_pipeline_result
tests/unit/test_execution_manager.py::TestExecutionManager::test_execute_steps_basic
tests/unit/test_execution_manager.py::TestExecutionManager::test_set_final_context
tests/unit/test_execution_manager.py::TestExecutionManager::test_persist_final_state
tests/unit/test_executor_components.py::TestOrjsonSerializer::test_serialize_deserialize_roundtrip
tests/unit/test_executor_components.py::TestOrjsonSerializer::test_serialize_deserialize_complex_data
tests/unit/test_executor_components.py::TestBlake3Hasher::test_digest_consistency
tests/unit/test_executor_components.py::TestBlake3Hasher::test_digest_uniqueness
tests/unit/test_executor_components.py::TestInMemoryLRUBackend::test_get_put_basic
tests/unit/test_executor_components.py::TestInMemoryLRUBackend::test_cache_ttl_expiration
tests/unit/test_executor_components.py::TestInMemoryLRUBackend::test_cache_lru_eviction
tests/unit/test_executor_components.py::TestInMemoryLRUBackend::test_cache_mutation_protection
tests/unit/test_executor_components.py::TestThreadSafeMeter::test_add_and_snapshot
tests/unit/test_executor_components.py::TestThreadSafeMeter::test_guard_usage_limits
tests/unit/test_executor_components.py::TestThreadSafeMeter::test_concurrent_usage_tracking
tests/unit/test_executor_components.py::TestDefaultAgentRunner::test_basic_agent_execution
tests/unit/test_executor_components.py::TestDefaultAgentRunner::test_agent_with_context_and_resources
tests/unit/test_executor_components.py::TestDefaultProcessorPipeline::test_apply_prompt_processors
tests/unit/test_executor_components.py::TestDefaultProcessorPipeline::test_apply_output_processors
tests/unit/test_executor_components.py::TestDefaultValidatorRunner::test_validation_success
tests/unit/test_executor_components.py::TestDefaultValidatorRunner::test_validation_failure
tests/unit/test_executor_components.py::TestDefaultPluginRunner::test_plugin_execution
tests/unit/test_executor_components.py::TestDefaultPluginRunner::test_plugin_with_priority_ordering
tests/unit/test_executor_components.py::TestDefaultTelemetry::test_trace_decorator
tests/unit/test_executor_components.py::TestFlujoCompositionRoot::test_create_default_backend
tests/unit/test_executor_components.py::TestFlujoCompositionRoot::test_executor_core_dependency_injection
tests/unit/test_executor_components.py::TestFlujoCompositionRoot::test_executor_core_default_dependencies
tests/unit/test_executor_core_parallel_migration.py::TestExecutorCoreParallelMigration::test_executor_core_handles_parallel_step
tests/unit/test_executor_core_parallel_migration.py::TestExecutorCoreParallelMigration::test_executor_core_handles_dynamic_router_step
tests/unit/test_executor_core_parallel_migration.py::TestExecutorCoreParallelMigration::test_executor_core_is_complex_step_detection
tests/unit/test_executor_core_parallel_migration.py::TestExecutorCoreParallelMigration::test_executor_core_parallel_step_recursive_execution
tests/unit/test_executor_core_parallel_migration.py::TestExecutorCoreParallelMigration::test_executor_core_dynamic_router_delegates_to_parallel
tests/unit/test_extract.py::TestExtractPathExclusion::test_exact_folder_exclusion
tests/unit/test_extract.py::TestExtractPathExclusion::test_folder_pattern_exclusion
tests/unit/test_extract.py::TestExtractPathExclusion::test_no_exclusion
tests/unit/test_extract.py::TestExtractPathExclusion::test_specific_path_exclusion_exact_match
tests/unit/test_extract.py::TestExtractPathExclusion::test_specific_path_exclusion_subdirectory
tests/unit/test_extract.py::TestExtractPathExclusion::test_specific_path_exclusion_no_match
tests/unit/test_extract.py::TestExtractPathExclusion::test_specific_path_exclusion_nested_no_match
tests/unit/test_extract.py::TestExtractFileExclusion::test_file_pattern_exclusion
tests/unit/test_extract.py::TestExtractDockerFileHandling::test_docker_files_not_excluded
tests/unit/test_extract.py::TestExtractTreeStructure::test_build_tree_structure_basic
tests/unit/test_extract.py::TestExtractTreeStructure::test_build_tree_structure_with_exclusions
tests/unit/test_extract.py::TestExtractTreeStructure::test_build_tree_structure_with_file_pattern_exclusions
tests/unit/test_extract.py::TestExtractIntegration::test_default_exclude_folders_structure
tests/unit/test_extract.py::TestExtractIntegration::test_default_exclude_folder_patterns_structure
tests/unit/test_extract.py::TestExtractIntegration::test_excluded_file_patterns_structure
tests/unit/test_extract.py::TestExtractIntegration::test_git_specific_files_structure
tests/unit/test_extract.py::TestExtractEdgeCases::test_should_exclude_path_with_empty_parts
tests/unit/test_extract.py::TestExtractEdgeCases::test_should_exclude_file_with_empty_patterns
tests/unit/test_extract.py::TestExtractEdgeCases::test_should_exclude_file_with_none_patterns
tests/unit/test_extract.py::TestExtractEdgeCases::test_should_exclude_path_with_none_parameters
tests/unit/test_factories.py::TestMakeDefaultPipeline::test_creates_pipeline_object
tests/unit/test_factories.py::TestMakeDefaultPipeline::test_creates_pipeline_with_reflection
tests/unit/test_factories.py::TestMakeDefaultPipeline::test_custom_max_retries
tests/unit/test_factories.py::TestMakeAgenticLoopPipeline::test_creates_pipeline_object
tests/unit/test_factories.py::TestMakeAgenticLoopPipeline::test_custom_max_loops_and_retries
tests/unit/test_factories.py::TestRunDefaultPipeline::test_runs_pipeline_successfully
tests/unit/test_factories.py::TestRunDefaultPipeline::test_returns_none_on_failure
tests/unit/test_factories.py::TestRunAgenticLoopPipeline::test_runs_pipeline_successfully
tests/unit/test_factories.py::TestMakeStateMachinePipeline::test_creates_pipeline_object
tests/unit/test_factories.py::TestMakeStateMachinePipeline::test_validates_context_fields
tests/unit/test_factories.py::TestMakeStateMachinePipeline::test_runs_until_complete
tests/unit/test_factories_parameter_validation.py::TestMakeDefaultPipelineParameters::test_accepts_all_parameters
tests/unit/test_factories_parameter_validation.py::TestMakeDefaultPipelineParameters::test_parameter_defaults
tests/unit/test_factories_parameter_validation.py::TestMakeDefaultPipelineParameters::test_parameter_validation
tests/unit/test_factories_parameter_validation.py::TestMakeDefaultPipelineParameters::test_cli_parameter_compatibility
tests/unit/test_factories_parameter_validation.py::TestMakeDefaultPipelineParameters::test_reflection_agent_optional
tests/unit/test_factories_parameter_validation.py::TestRunDefaultPipelineAsync::test_async_execution
tests/unit/test_factories_parameter_validation.py::TestRunDefaultPipelineAsync::test_async_with_context
tests/unit/test_factories_parameter_validation.py::TestCLIParameterMapping::test_cli_k_maps_to_k_variants
tests/unit/test_factories_parameter_validation.py::TestCLIParameterMapping::test_cli_max_iters_maps_correctly
tests/unit/test_factories_parameter_validation.py::TestCLIParameterMapping::test_cli_reflection_maps_correctly
tests/unit/test_fallback.py::test_fallback_assignment
tests/unit/test_fallback.py::test_fallback_not_triggered_on_success
tests/unit/test_fallback.py::test_fallback_triggered_on_failure
tests/unit/test_fallback.py::test_fallback_failure_propagates
tests/unit/test_fallback.py::test_fallback_latency_accumulated
tests/unit/test_fallback.py::test_failed_fallback_accumulates_metrics
tests/unit/test_fallback.py::test_successful_fallback_correctly_sets_metrics
tests/unit/test_fallback.py::test_infinite_fallback_loop_detected
tests/unit/test_fallback_edge_cases.py::test_fallback_with_zero_cost_agents
tests/unit/test_fallback_edge_cases.py::test_fallback_with_high_cost_agents
tests/unit/test_fallback_edge_cases.py::test_fallback_with_exception_raising_agents
tests/unit/test_fallback_edge_cases.py::test_fallback_with_mixed_cost_scenarios
tests/unit/test_fallback_edge_cases.py::test_fallback_with_negative_metrics
tests/unit/test_fallback_edge_cases.py::test_fallback_with_missing_metrics
tests/unit/test_fallback_edge_cases.py::test_fallback_with_very_long_feedback
tests/unit/test_fallback_edge_cases.py::test_fallback_with_none_feedback
tests/unit/test_fallback_edge_cases.py::test_fallback_with_empty_string_feedback
tests/unit/test_fallback_edge_cases.py::test_fallback_with_unicode_feedback
tests/unit/test_fallback_edge_cases.py::test_fallback_with_very_small_latency
tests/unit/test_fallback_edge_cases.py::test_fallback_with_retry_scenarios
tests/unit/test_fallback_edge_cases.py::test_fallback_with_complex_metadata
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_detect_fallback_loop_object_identity
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_detect_fallback_loop_step_name
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_detect_fallback_loop_chain_length_limit
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_detect_fallback_loop_pattern_detection
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_detect_fallback_loop_complex_patterns
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_detect_fallback_loop_edge_cases
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_detect_fallback_loop_global_relationships
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_fallback_loop_integration_object_identity
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_fallback_loop_integration_step_name
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_fallback_loop_healthcare_scenario
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_fallback_loop_legal_scenario
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_fallback_loop_finance_scenario
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_fallback_loop_logging_and_audit
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_infinite_fallback_error_raises_correctly
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_fallback_loop_direct_step_logic
tests/unit/test_fallback_loop_detection.py::TestFallbackLoopDetection::test_simple_fallback_loop_integration
tests/unit/test_fallback_loop_detection.py::test_fallback_loop_detection_cache_key_collision_fix
tests/unit/test_file_sqlite_backends.py::test_file_backend_roundtrip
tests/unit/test_file_sqlite_backends.py::test_file_backend_load_during_delete
tests/unit/test_file_sqlite_backends.py::test_sqlite_backend_roundtrip
tests/unit/test_file_sqlite_backends.py::test_sqlite_backend_migrates_existing_db
tests/unit/test_file_sqlite_backends.py::test_backends_serialize_pydantic
tests/unit/test_file_sqlite_backends.py::test_sqlite_backend_admin_queries
tests/unit/test_file_sqlite_backends.py::test_sqlite_backend_concurrent
tests/unit/test_file_sqlite_backends.py::test_backends_deserialize_special_types
tests/unit/test_file_sqlite_backends.py::test_sqlite_backend_list_workflows_empty_database
tests/unit/test_file_sqlite_backends.py::test_sqlite_backend_get_workflow_stats_empty_database
tests/unit/test_file_sqlite_backends.py::test_sqlite_backend_cleanup_old_workflows_no_old_workflows
tests/unit/test_file_sqlite_backends.py::test_sqlite_backend_list_workflows_filter_by_nonexistent_pipeline_id
tests/unit/test_file_sqlite_backends.py::test_sqlite_backend_admin_queries_edge_cases
tests/unit/test_framework_registry.py::test_register_step_type_and_policy
tests/unit/test_framework_schema_skill.py::test_get_framework_schema_includes_state_machine
tests/unit/test_history_manager.py::test_truncate_turns_strategy
tests/unit/test_history_manager.py::test_truncate_tokens_strategy
tests/unit/test_history_manager.py::test_summarize_strategy_compacts_and_bounds
tests/unit/test_history_manager.py::test_config_manager_defaults
tests/unit/test_history_manager.py::test_filter_natural_text_skips_tool_payloads
tests/unit/test_hitl_complex_schema_dump_load.py::test_hitl_dump_with_nested_array_schema_contains_structure
tests/unit/test_hitl_dump_load_stability.py::test_hitl_dump_load_dump_is_stable_on_core_fields
tests/unit/test_hitl_loader_dumper_extras.py::test_dump_hitl_without_schema_omits_input_schema
tests/unit/test_hitl_loader_dumper_extras.py::test_roundtrip_hitl_dump_then_load_preserves_kind_and_message
tests/unit/test_hitl_loader_dumper_extras.py::test_dump_after_load_contains_hitl_block
tests/unit/test_hitl_yaml_support.py::test_dump_pipeline_with_hitl_outputs_kind_and_schema
tests/unit/test_hitl_yaml_support.py::test_load_pipeline_yaml_with_hitl_compiles_to_human_step
tests/unit/test_hooks_typed.py::test_hook_receives_typed_payload
tests/unit/test_import_hitl_and_input_routing.py::test_import_propagates_child_hitl_pause
tests/unit/test_import_hitl_and_input_routing.py::test_import_input_to_initial_prompt_has_precedence
tests/unit/test_import_hitl_and_input_routing.py::test_import_hitl_propagation_opt_out
tests/unit/test_import_hitl_and_input_routing.py::test_import_input_to_both_merges_and_sets_prompt
tests/unit/test_import_hitl_and_input_routing.py::test_import_scalar_to_scratchpad_key
tests/unit/test_import_hitl_and_input_routing.py::test_repeated_import_alias_compiles
tests/unit/test_import_input_precedence.py::test_import_explicit_input_precedence_uses_scratchpad_key
tests/unit/test_import_input_precedence.py::test_import_outputs_mapping_repeated_imports_with_both_projection
tests/unit/test_import_step_on_failure_semantics.py::test_import_step_on_failure_skip_merges_nothing_and_succeeds
tests/unit/test_import_step_outputs_semantics.py::test_import_step_outputs_none_merges_full_child_context
tests/unit/test_import_step_outputs_semantics.py::test_import_step_outputs_empty_list_merges_nothing
tests/unit/test_import_step_policy.py::test_import_step_projects_input_and_merges_context
tests/unit/test_inline_pipeline_dicts_in_branches.py::test_statemachine_state_allows_inline_steps_mapping
tests/unit/test_inline_pipeline_dicts_in_branches.py::test_conditional_branch_allows_inline_steps_mapping
tests/unit/test_integration_quota_propagation.py::test_quota_propagates_conditional_to_nested_parallel_with_costs
tests/unit/test_integration_quota_propagation.py::test_quota_propagates_router_to_selected_parallel_with_costs
tests/unit/test_learnable_estimator.py::test_learnable_estimator_gated_by_config
tests/unit/test_lens_cli.py::test_lens_commands
tests/unit/test_lens_cli.py::test_lens_commands_with_filters
tests/unit/test_lens_cli.py::test_lens_show_detailed_run
tests/unit/test_lens_cli.py::test_lens_show_nonexistent_run
tests/unit/test_lens_cli.py::test_lens_commands_with_empty_database
tests/unit/test_lens_cli.py::test_lens_commands_with_failed_run
tests/unit/test_lens_cli.py::test_lens_commands_with_environment_configuration
tests/unit/test_lens_cli.py::test_lens_cli_relative_path_resolution
tests/unit/test_lens_cli.py::test_lens_show_with_verbose_options
tests/unit/test_lens_cli.py::test_lens_trace_command
tests/unit/test_lens_cli.py::test_lens_trace_command_regression_timestamps
tests/unit/test_lens_cli.py::test_lens_commands_error_handling
tests/unit/test_lens_event_rendering.py::test_lens_renders_agent_prompt_event
tests/unit/test_loop_step.py::test_loop_step_init_validation
tests/unit/test_loop_step.py::test_step_factory_loop_until
tests/unit/test_loop_step.py::test_loopstep_context_isolation_unit
tests/unit/test_loop_step_executor_context.py::test_loop_executor_calls_isolate_each_iteration
tests/unit/test_loop_step_executor_context.py::test_loop_executor_merges_iteration_context
tests/unit/test_loop_step_policy.py::test_loop_policy_returns_failure_outcome_on_iteration_mapper_error
tests/unit/test_loop_step_policy.py::test_loop_policy_success_simple_exit
tests/unit/test_loop_step_policy.py::test_loop_within_parallel_and_parallel_within_loop_quota_composition
tests/unit/test_loop_step_policy.py::test_loop_policy_raises_paused_exception
tests/unit/test_map_step_refactoring.py::TestMapStepRefactoring::test_map_step_creation
tests/unit/test_map_step_refactoring.py::TestMapStepRefactoring::test_map_step_properties
tests/unit/test_map_step_refactoring.py::TestMapStepRefactoring::test_map_step_is_complex
tests/unit/test_map_step_refactoring.py::TestMapStepRefactoring::test_map_step_repr
tests/unit/test_map_step_refactoring.py::TestMapStepRefactoring::test_map_step_post_init
tests/unit/test_map_step_refactoring.py::TestMapStepRefactoring::test_map_step_with_empty_iterable
tests/unit/test_map_step_refactoring.py::TestMapStepRefactoring::test_map_step_mapping_functions
tests/unit/test_map_step_refactoring.py::TestMapStepRefactoring::test_map_step_error_handling
tests/unit/test_map_step_refactoring.py::TestMapStepRefactoring::test_map_step_factory_method
tests/unit/test_map_step_refactoring.py::TestMapStepRefactoring::test_map_step_inheritance
tests/unit/test_model_generator_array_enum_items.py::test_array_of_string_enum_items_produces_literal_items
tests/unit/test_model_generator_array_objects.py::test_generate_model_with_array_of_objects_schema_produces_valid_items_object
tests/unit/test_model_generator_array_primitives.py::test_generate_model_with_array_of_strings_property_accepts_instances
tests/unit/test_model_generator_array_primitives.py::test_generate_model_with_root_level_array_wraps_in_value_field
tests/unit/test_model_utils.py::TestModelIDExtraction::test_extract_model_id_from_model_id_attribute
tests/unit/test_model_utils.py::TestModelIDExtraction::test_extract_model_id_from_private_model_name
tests/unit/test_model_utils.py::TestModelIDExtraction::test_extract_model_id_from_model_attribute
tests/unit/test_model_utils.py::TestModelIDExtraction::test_extract_model_id_from_model_name_attribute
tests/unit/test_model_utils.py::TestModelIDExtraction::test_extract_model_id_from_llm_model_attribute
tests/unit/test_model_utils.py::TestModelIDExtraction::test_extract_model_id_priority_order
tests/unit/test_model_utils.py::TestModelIDExtraction::test_extract_model_id_none_value
tests/unit/test_model_utils.py::TestModelIDExtraction::test_extract_model_id_no_attributes
tests/unit/test_model_utils.py::TestModelIDExtraction::test_extract_model_id_none_agent
tests/unit/test_model_utils.py::TestModelIDExtraction::test_extract_model_id_converts_to_string
tests/unit/test_model_utils.py::TestModelIDValidation::test_validate_model_id_valid
tests/unit/test_model_utils.py::TestModelIDValidation::test_validate_model_id_none
tests/unit/test_model_utils.py::TestModelIDValidation::test_validate_model_id_not_string
tests/unit/test_model_utils.py::TestModelIDValidation::test_validate_model_id_empty_string
tests/unit/test_model_utils.py::TestModelIDValidation::test_validate_model_id_whitespace_padded
tests/unit/test_model_utils.py::TestProviderAndModelExtraction::test_extract_provider_and_model_with_provider
tests/unit/test_model_utils.py::TestProviderAndModelExtraction::test_extract_provider_and_model_without_provider
tests/unit/test_model_utils.py::TestProviderAndModelExtraction::test_extract_provider_and_model_multiple_colons
tests/unit/test_model_utils.py::TestProviderAndModelExtraction::test_extract_provider_and_model_whitespace_handling
tests/unit/test_model_utils.py::TestProviderAndModelExtraction::test_extract_provider_and_model_empty_parts
tests/unit/test_model_utils.py::TestProviderAndModelExtraction::test_extract_provider_and_model_various_formats
tests/unit/test_model_utils.py::TestIntegrationWithCostTracking::test_model_id_extraction_for_cost_calculation
tests/unit/test_model_utils.py::TestIntegrationWithCostTracking::test_model_id_extraction_for_unknown_models
tests/unit/test_model_utils.py::TestIntegrationWithCostTracking::test_model_id_extraction_consistency_across_modules
tests/unit/test_monitor_integration.py::TestInMemoryMonitorUsage::test_monitor_records_agent_calls
tests/unit/test_monitor_integration.py::TestInMemoryMonitorUsage::test_monitor_records_failed_calls
tests/unit/test_monitor_integration.py::TestInMemoryMonitorUsage::test_monitor_multiple_calls
tests/unit/test_monitor_integration.py::TestInMemoryMonitorUsage::test_monitor_execution_time
tests/unit/test_monitor_integration.py::TestInMemoryMonitorUsage::test_monitor_clear_functionality
tests/unit/test_monitor_integration.py::TestMonitorIntegrationWithCaplog::test_monitor_with_caplog
tests/unit/test_orchestrator_typing.py::test_agents_conform_to_protocol
tests/unit/test_otel_hook.py::test_hook_initialization_console
tests/unit/test_outcomes_utils.py::test_to_outcome_and_unwrap_roundtrip_success
tests/unit/test_outcomes_utils.py::test_to_outcome_and_unwrap_roundtrip_failure_with_feedback
tests/unit/test_override_agent.py::test_override_agent_basic_functionality
tests/unit/test_override_agent.py::test_override_agent_with_exception
tests/unit/test_override_agent.py::test_override_agent_none_agent
tests/unit/test_override_agent.py::test_override_agent_multiple_steps
tests/unit/test_override_agent.py::test_override_agent_integration_with_arun
tests/unit/test_override_agent.py::test_override_agent_with_stub_agent
tests/unit/test_parallel_imports.py::test_parallel_imports
tests/unit/test_parallel_infinite_quota.py::test_parallel_quota_split_with_infinite_cost_propagates_inf_to_children
tests/unit/test_parallel_reduce.py::test_parallel_reduce_keys_returns_branch_order
tests/unit/test_parallel_reduce.py::test_parallel_reduce_values_and_first_last
tests/unit/test_parallel_reduce.py::test_parallel_reduce_union
tests/unit/test_parallel_reduce.py::test_parallel_reduce_concat
tests/unit/test_parallel_step_executor_context.py::test_parallel_executor_isolates_context_per_branch
tests/unit/test_parallel_step_executor_context.py::test_parallel_executor_merges_successful_branch_contexts
tests/unit/test_parallel_step_policy.py::test_parallel_policy_success_aggregates_outputs
tests/unit/test_parallel_step_policy.py::test_parallel_policy_failure_does_not_merge_context
tests/unit/test_parallel_step_policy.py::test_parallel_policy_yields_failure_on_paused_branch
tests/unit/test_parallel_step_policy.py::test_parallel_policy_deterministic_quota_split_and_accounting
tests/unit/test_parallel_step_policy.py::test_parallel_policy_propagates_usage_errors_and_mock_detection
tests/unit/test_parallel_step_policy.py::test_parallel_policy_quota_splitting_zero_parent_after_split
tests/unit/test_parallel_step_robustness.py::TestParallelStepRobustness::test_usage_governor_receives_individual_step_results
tests/unit/test_parallel_step_robustness.py::TestParallelStepRobustness::test_cancelled_branches_populate_dictionaries
tests/unit/test_parallel_step_robustness.py::TestParallelStepRobustness::test_usage_limit_breach_propagates_correctly
tests/unit/test_parallel_step_robustness.py::TestParallelStepRobustness::test_parallel_step_runs_without_breach_event
tests/unit/test_parallel_step_robustness.py::TestParallelStepRobustness::test_parallel_step_handles_empty_branches
tests/unit/test_parallel_step_robustness.py::TestParallelStepRobustness::test_parallel_step_handles_failing_branches
tests/unit/test_parallel_step_robustness.py::TestParallelStepRobustness::test_parallel_step_concurrency_limits
tests/unit/test_parallel_step_robustness.py::TestParallelStepRobustness::test_parallel_step_context_isolation
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_basic_parallel_execution_no_merge
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_with_context_include_keys
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_no_context
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_with_usage_limits
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_cost_limit_breach
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_token_limit_breach
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_branch_failure_propagate
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_branch_failure_ignore
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_merge_overwrite
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_merge_scratchpad
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_merge_scratchpad_no_scratchpad
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_custom_merge_strategy
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_exception_handling
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_task_cancellation
tests/unit/test_parallel_step_strategies.py::TestParallelStepExecution::test_parallel_execution_merge_context_update
tests/unit/test_parallel_step_strategies.py::test_parallel_usage_limit_enforced_atomically
tests/unit/test_parameter_passing.py::test_agent_receives_context_parameter
tests/unit/test_parameter_passing.py::test_plugin_receives_context_parameter
tests/unit/test_performance.py::TestScratchBufferManagement::test_get_scratch_buffer_creates_new_buffer
tests/unit/test_performance.py::TestScratchBufferManagement::test_get_scratch_buffer_reuses_existing_buffer
tests/unit/test_performance.py::TestScratchBufferManagement::test_clear_scratch_buffer_clears_contents
tests/unit/test_performance.py::TestScratchBufferManagement::test_clear_scratch_buffer_maintains_buffer_identity
tests/unit/test_performance.py::TestScratchBufferManagement::test_clear_scratch_buffer_when_no_buffer_exists
tests/unit/test_performance.py::TestScratchBufferManagement::test_buffer_isolation_between_tasks
tests/unit/test_performance.py::TestBufferPooling::test_enable_buffer_pooling
tests/unit/test_performance.py::TestBufferPooling::test_disable_buffer_pooling
tests/unit/test_performance.py::TestBufferPooling::test_get_buffer_pool_stats_when_disabled
tests/unit/test_performance.py::TestBufferPooling::test_get_buffer_pool_stats_when_enabled
tests/unit/test_performance.py::TestBufferPooling::test_buffer_pooling_creates_new_buffers_when_pool_empty
tests/unit/test_performance.py::TestBufferPooling::test_release_scratch_buffer_when_pooling_disabled
tests/unit/test_performance.py::TestBufferPooling::test_release_scratch_buffer_when_no_buffer_exists
tests/unit/test_performance.py::TestBufferPooling::test_release_scratch_buffer_returns_buffer_to_pool
tests/unit/test_performance.py::TestBufferPooling::test_buffer_pooling_basic_functionality
tests/unit/test_performance.py::TestBufferPooling::test_buffer_pooling_handles_full_pool
tests/unit/test_performance.py::TestBufferPooling::test_clear_scratch_buffer_consistency_with_pooling
tests/unit/test_performance.py::TestBufferPooling::test_buffer_identity_consistency_with_pooling
tests/unit/test_performance.py::TestPerformanceOptimizations::test_time_perf_ns_returns_nanoseconds
tests/unit/test_performance.py::TestPerformanceOptimizations::test_time_perf_ns_to_seconds_conversion
tests/unit/test_performance.py::TestPerformanceOptimizations::test_measure_time_decorator
tests/unit/test_performance.py::TestPerformanceOptimizations::test_measure_time_async_decorator
tests/unit/test_performance.py::TestBufferLeakPrevention::test_no_buffer_leak_with_pooling_enabled
tests/unit/test_performance.py::TestBufferLeakPrevention::test_consistent_behavior_with_pooling_toggle
tests/unit/test_performance.py::TestBufferLeakPrevention::test_buffer_pool_overflow_handling
tests/unit/test_persistence_edge_cases.py::TestPersistenceOptimizationEdgeCases::test_persistence_frequency_optimization
tests/unit/test_persistence_edge_cases.py::TestPersistenceOptimizationEdgeCases::test_persistence_on_step_failure
tests/unit/test_persistence_edge_cases.py::TestPersistenceOptimizationEdgeCases::test_large_context_serialization_performance
tests/unit/test_persistence_edge_cases.py::TestPersistenceOptimizationEdgeCases::test_serialization_error_handling
tests/unit/test_persistence_edge_cases.py::TestPersistenceOptimizationEdgeCases::test_concurrent_persistence_operations
tests/unit/test_persistence_edge_cases.py::TestPersistenceOptimizationEdgeCases::test_persistence_with_none_context
tests/unit/test_persistence_edge_cases.py::TestPersistenceOptimizationEdgeCases::test_persistence_with_complex_nested_objects
tests/unit/test_persistence_edge_cases.py::TestPersistenceOptimizationEdgeCases::test_persistence_performance_under_load
tests/unit/test_persistence_edge_cases.py::TestPersistenceOptimizationEdgeCases::test_persistence_with_circular_references
tests/unit/test_persistence_performance.py::TestPersistencePerformanceOverhead::test_default_backend_performance_overhead
tests/unit/test_persistence_performance.py::TestPersistencePerformanceOverhead::test_persistence_overhead_with_large_context
tests/unit/test_persistence_performance.py::TestPersistencePerformanceOverhead::test_serialization_optimization_effectiveness
tests/unit/test_persistence_performance.py::TestPersistencePerformanceOverhead::test_first_principles_caching_effectiveness
tests/unit/test_persistence_performance.py::TestPersistencePerformanceOverhead::test_delta_detection_accuracy
tests/unit/test_persistence_performance.py::TestPersistencePerformanceOverhead::test_buffer_pooling_consistency_fix
tests/unit/test_persistence_performance.py::TestPersistencePerformanceOverhead::test_cache_consistency_data_loss_prevention
tests/unit/test_persistence_performance.py::TestPersistencePerformanceOverhead::test_cache_eviction_logic_fixes
tests/unit/test_persistence_performance.py::TestCLIPerformance::test_large_database_fixture_verification
tests/unit/test_persistence_performance.py::TestCLIPerformance::test_lens_list_performance
tests/unit/test_persistence_performance.py::TestCLIPerformance::test_lens_show_performance
tests/unit/test_persistence_performance.py::TestCLIPerformance::test_lens_list_with_filters_performance
tests/unit/test_persistence_performance.py::TestCLIPerformance::test_lens_show_nonexistent_run_performance
tests/unit/test_pipeline_context.py::test_context_initialization_and_access
tests/unit/test_pipeline_context.py::test_context_initialization_failure
tests/unit/test_pipeline_context.py::test_context_mutation_between_steps
tests/unit/test_pipeline_context.py::test_context_isolated_per_run
tests/unit/test_pipeline_context.py::test_plugin_receives_context_and_strict_plugin_errors
tests/unit/test_pipeline_context.py::test_step_updates_context_automatic_merge
tests/unit/test_pipeline_property.py::test_random_linear_pipeline
tests/unit/test_pipeline_registry.py::test_register_and_get
tests/unit/test_pipeline_registry.py::test_get_latest
tests/unit/test_pipeline_registry.py::test_invalid_version
tests/unit/test_pipeline_validation.py::test_no_warning_for_context
tests/unit/test_pipeline_validation.py::test_no_warning_for_modern_context
tests/unit/test_pipeline_validation.py::test_pydantic_output_bridges_to_dict_input
tests/unit/test_pipeline_validation.py::test_templated_input_tojson_skips_type_mismatch
tests/unit/test_pipeline_validation.py::test_finalize_types_uses_wrapper_target_output_type
tests/unit/test_pipeline_visualization.py::test_simple_pipeline_visualization
tests/unit/test_pipeline_visualization.py::test_pipeline_with_validation_steps
tests/unit/test_pipeline_visualization.py::test_pipeline_with_retry_config
tests/unit/test_pipeline_visualization.py::test_loop_step_visualization
tests/unit/test_pipeline_visualization.py::test_conditional_step_visualization
tests/unit/test_pipeline_visualization.py::test_parallel_step_visualization
tests/unit/test_pipeline_visualization.py::test_human_in_the_loop_visualization
tests/unit/test_pipeline_visualization.py::test_complex_nested_pipeline_visualization
tests/unit/test_pipeline_visualization.py::test_pipeline_with_mixed_configurations
tests/unit/test_pipeline_visualization_detail_levels.py::TestPipelineVisualizationDetailLevels::test_detail_level_validation
tests/unit/test_pipeline_visualization_detail_levels.py::TestPipelineVisualizationDetailLevels::test_complexity_score_calculation
tests/unit/test_pipeline_visualization_detail_levels.py::TestPipelineVisualizationDetailLevels::test_optimal_detail_level_detection
tests/unit/test_pipeline_visualization_detail_levels.py::TestPipelineVisualizationDetailLevels::test_high_detail_mermaid_generation
tests/unit/test_pipeline_visualization_detail_levels.py::TestPipelineVisualizationDetailLevels::test_medium_detail_mermaid_generation
tests/unit/test_pipeline_visualization_detail_levels.py::TestPipelineVisualizationDetailLevels::test_low_detail_mermaid_generation
tests/unit/test_pipeline_visualization_detail_levels.py::TestPipelineVisualizationDetailLevels::test_auto_detail_level_selection
tests/unit/test_pipeline_visualization_detail_levels.py::TestPipelineVisualizationDetailLevels::test_default_to_mermaid_uses_auto
tests/unit/test_pipeline_visualization_detail_levels.py::TestPipelineVisualizationDetailLevels::test_retry_annotations_in_different_levels
tests/unit/test_pipeline_visualization_detail_levels.py::TestPipelineVisualizationDetailLevels::test_validation_annotations_in_different_levels
tests/unit/test_pipeline_visualization_detail_levels.py::TestPipelineVisualizationDetailLevels::test_parallel_step_visualization
tests/unit/test_pipeline_visualization_detail_levels.py::TestPipelineVisualizationDetailLevels::test_human_in_the_loop_visualization
tests/unit/test_plugins.py::test_plugin_protocol_instance
tests/unit/test_plugins.py::test_plugins
tests/unit/test_programmatic_entrypoint.py::test_bootstrap_flujo_minimal
tests/unit/test_programmatic_entrypoint.py::test_bootstrap_flujo_full
tests/unit/test_programmatic_entrypoint.py::test_bootstrap_flujo_with_project_root
tests/unit/test_programmatic_entrypoint.py::test_create_flujo_app
tests/unit/test_programmatic_entrypoint.py::test_programmatic_app_can_be_embedded
tests/unit/test_programmatic_entrypoint.py::test_bootstrap_backward_compatibility
tests/unit/test_programmatic_entrypoint.py::test_programmatic_entrypoint_isolated_from_cli
tests/unit/test_project_root_helpers.py::test_resolve_project_root_explicit_invalid_raises
tests/unit/test_project_root_helpers.py::test_resolve_project_root_uses_env_var
tests/unit/test_project_root_helpers.py::test_resolve_project_root_marker_search_from_cwd
tests/unit/test_project_root_helpers.py::test_resolve_project_root_allow_missing_returns_none
tests/unit/test_project_root_helpers.py::test_find_project_root_happy_path
tests/unit/test_project_root_helpers.py::test_find_project_root_raises_when_not_found
tests/unit/test_project_root_helpers.py::test_ensure_project_root_on_sys_path_injects_once
tests/unit/test_project_root_helpers.py::test_scaffold_project_fallback_writes_minimal_files
tests/unit/test_prometheus_collector.py::test_prometheus_collector_yields_metrics
tests/unit/test_prompt_formatter.py::test_baseline_placeholder_and_json
tests/unit/test_prompt_formatter.py::test_if_block
tests/unit/test_prompt_formatter.py::test_each_block
tests/unit/test_prompt_formatter.py::test_nested_placeholders
tests/unit/test_prompt_formatter.py::test_escaping
tests/unit/test_prompt_formatter.py::test_prompt_robust_serialization
tests/unit/test_pydantic_context_merging.py::test_safe_merge_context_updates_basic
tests/unit/test_pydantic_context_merging.py::test_safe_merge_context_updates_preserves_computed_fields
tests/unit/test_pydantic_context_merging.py::test_safe_merge_context_updates_triggers_validators
tests/unit/test_pydantic_context_merging.py::test_safe_merge_context_updates_handles_invalid_values
tests/unit/test_pydantic_context_merging.py::test_safe_merge_context_updates_handles_complex_equality
tests/unit/test_pydantic_context_merging.py::test_safe_merge_context_updates_ignores_private_fields
tests/unit/test_pydantic_context_merging.py::test_safe_context_field_update
tests/unit/test_pydantic_context_merging.py::test_safe_context_field_update_triggers_validation
tests/unit/test_pydantic_context_merging.py::test_safe_context_field_update_handles_invalid_values
tests/unit/test_pydantic_context_merging.py::test_get_context_field_safely
tests/unit/test_pydantic_context_merging.py::test_has_context_field
tests/unit/test_pydantic_context_merging.py::test_merge_with_none_contexts
tests/unit/test_pydantic_context_merging.py::test_merge_with_different_types
tests/unit/test_quota_mode.py::test_pure_quota_reservation_denies
tests/unit/test_quota_mode.py::test_pure_quota_parallel_split_insufficient
tests/unit/test_reconstruction_logic.py::TestReconstructionLogic::test_reconstruction_preserves_nested_models
tests/unit/test_reconstruction_logic.py::TestReconstructionLogic::test_reconstruction_handles_string_encoded_lists
tests/unit/test_reconstruction_logic.py::TestReconstructionLogic::test_reconstruction_handles_empty_structures
tests/unit/test_reconstruction_logic.py::TestReconstructionLogic::test_reconstruction_handles_none_values
tests/unit/test_reconstruction_logic.py::TestReconstructionLogic::test_reconstruction_handles_boolean_values
tests/unit/test_reconstruction_logic.py::TestReconstructionLogic::test_reconstruction_handles_complex_nested_structures
tests/unit/test_reconstruction_logic.py::TestReconstructionLogic::test_reconstruction_handles_mixed_types
tests/unit/test_reconstruction_logic.py::TestReconstructionLogic::test_reconstruction_preserves_exact_types
tests/unit/test_registry_abuse.py::test_register_non_step_raises
tests/unit/test_registry_abuse.py::test_unknown_yaml_kind_raises
tests/unit/test_repair_yaml_ruamel.py::test_repair_yaml_ruamel_fixes_inline_steps_list
tests/unit/test_repair_yaml_ruamel.py::test_repair_yaml_ruamel_is_idempotent_on_valid_yaml
tests/unit/test_replay_agent.py::test_replay_agent_returns_canned_response
tests/unit/test_replay_agent.py::test_replay_agent_missing_key_raises
tests/unit/test_replay_executor.py::test_replay_executor_requires_state_backend
tests/unit/test_replay_executor.py::test_replay_executor_replays_and_drains_pauses
tests/unit/test_resource_context_management.py::test_resource_context_manager_commits_on_success
tests/unit/test_resource_context_management.py::test_resource_context_manager_rolls_back_on_failure
tests/unit/test_resource_context_management.py::test_resource_context_manager_handles_paused_exception
tests/unit/test_resource_context_management.py::test_parallel_branches_enter_resources_per_attempt
tests/unit/test_resume_orchestrator.py::test_validate_and_resolve_paused_step_sets_status_and_indices
tests/unit/test_resume_orchestrator.py::test_coerce_and_context_updates_apply_sink_and_logs
tests/unit/test_resume_orchestrator.py::test_validate_resume_raises_when_not_paused
tests/unit/test_run_session.py::test_run_session_resolves_pipeline_from_registry
tests/unit/test_run_session.py::test_run_plan_resolver_enforces_hitl_policy
tests/unit/test_safe_deserialize_roundtrip.py::test_default_behavior_returns_serialized_data
tests/unit/test_safe_deserialize_roundtrip.py::test_custom_type_roundtrip_with_registry
tests/unit/test_safe_log_shutdown.py::test_safe_log_handles_none_logger_gracefully
tests/unit/test_safe_log_shutdown.py::test_safe_log_handles_object_without_log_method
tests/unit/test_schema_migration_robustness.py::TestSchemaMigrationRobustness::test_migration_adds_missing_columns_to_runs_table
tests/unit/test_schema_migration_robustness.py::TestSchemaMigrationRobustness::test_migration_handles_existing_data
tests/unit/test_schema_migration_robustness.py::TestSchemaMigrationRobustness::test_migration_handles_corrupted_database
tests/unit/test_schema_migration_robustness.py::TestSchemaMigrationRobustness::test_migration_handles_missing_tables
tests/unit/test_schema_migration_robustness.py::TestSchemaMigrationRobustness::test_migration_handles_null_values_in_not_null_columns
tests/unit/test_schema_migration_robustness.py::TestSchemaMigrationRobustness::test_migration_handles_concurrent_access
tests/unit/test_schema_migration_robustness.py::TestSchemaMigrationRobustness::test_migration_handles_large_datasets
tests/unit/test_schema_migration_robustness.py::TestSchemaMigrationRobustness::test_migration_handles_schema_version_changes
tests/unit/test_schema_migration_robustness.py::TestSchemaMigrationRobustness::test_migration_handles_index_recreation
tests/unit/test_schema_migration_robustness.py::TestSchemaMigrationRobustness::test_migration_handles_foreign_key_constraints
tests/unit/test_scoring.py::test_ratio_score
tests/unit/test_scoring.py::test_weighted_score
tests/unit/test_scoring.py::test_reward_scorer_init_success
tests/unit/test_scoring.py::test_reward_scorer_init_failure
tests/unit/test_scoring.py::test_reward_scorer_returns_float
tests/unit/test_scoring.py::test_reward_scorer_disabled
tests/unit/test_scoring.py::test_weighted_score_empty_weights
tests/unit/test_scoring.py::test_weighted_score_total_weight_zero
tests/unit/test_scoring.py::test_redact_string_no_secret
tests/unit/test_scoring.py::test_redact_string_secret_not_in_text
tests/unit/test_scoring.py::test_redact_string_secret_in_text
tests/unit/test_scoring.py::test_reward_scorer_score_no_output
tests/unit/test_scoring.py::test_ratio_score_all_passed
tests/unit/test_scoring.py::test_weighted_score_all_weights_present
tests/unit/test_scoring.py::test_weighted_score_invalid_weight_type
tests/unit/test_scoring.py::test_weighted_score_missing_keys
tests/unit/test_self_improvement_agent.py::test_self_improve_sys_contains_examples
tests/unit/test_self_improvement_agent.py::test_self_improvement_agent_parses_json
tests/unit/test_self_improvement_agent.py::test_self_improvement_agent_handles_bad_json
tests/unit/test_serialization_core.py::test_determinism_with_unordered_collections
tests/unit/test_serialization_core.py::test_circular_reference_handling
tests/unit/test_serialization_core.py::test_custom_serializer_is_honored
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_empty_structures
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_none_values
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_numeric_edge_cases
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_string_edge_cases
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_collection_edge_cases
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_enum_and_union_edge_cases
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_custom_types_edge_cases
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_recursive_structures
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_dataclass_serialization
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_collections_edge_cases
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_float_edge_cases
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_complex_nested_structures
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_error_handling
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_circular_reference_handling
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_large_data_structures
tests/unit/test_serialization_edge_cases.py::TestSerializationEdgeCases::test_type_preservation_edge_cases
tests/unit/test_serialization_edge_cases.py::test_circular_reference_in_dict_keys
tests/unit/test_serialization_properties.py::TestSerializationProperties::test_simple_model_roundtrip
tests/unit/test_serialization_properties.py::TestSerializationProperties::test_nested_model_roundtrip
tests/unit/test_serialization_properties.py::TestSerializationProperties::test_complex_model_roundtrip
tests/unit/test_serialization_properties.py::TestSerializationProperties::test_unsupported_types_raise
tests/unit/test_serialization_properties.py::TestSerializationProperties::test_deeply_nested_model_roundtrip
tests/unit/test_serialization_properties.py::TestSerializationProperties::test_mixed_data_roundtrip
tests/unit/test_serialization_properties.py::TestSerializationProperties::test_complex_model_field_preservation
tests/unit/test_serialization_properties.py::TestSerializationProperties::test_edge_cases_roundtrip
tests/unit/test_serialization_properties.py::TestSerializationProperties::test_large_data_roundtrip
tests/unit/test_serialization_properties.py::TestSerializationProperties::test_special_characters_roundtrip
tests/unit/test_serialization_utilities.py::TestSerializationRegistry::test_register_custom_serializer
tests/unit/test_serialization_utilities.py::TestSerializationRegistry::test_register_custom_deserializer
tests/unit/test_serialization_utilities.py::TestSerializationRegistry::test_lookup_custom_serializer_not_found
tests/unit/test_serialization_utilities.py::TestSerializationRegistry::test_lookup_custom_deserializer_not_found
tests/unit/test_serialization_utilities.py::TestSerializationRegistry::test_reset_custom_serializer_registry
tests/unit/test_serialization_utilities.py::TestSerializerFactories::test_create_serializer_for_type
tests/unit/test_serialization_utilities.py::TestSerializerFactories::test_create_field_serializer
tests/unit/test_serialization_utilities.py::TestSafeSerialize::test_safe_serialize_basic_types
tests/unit/test_serialization_utilities.py::TestSafeSerialize::test_safe_serialize_datetime_objects
tests/unit/test_serialization_utilities.py::TestSafeSerialize::test_safe_serialize_enum
tests/unit/test_serialization_utilities.py::TestSafeSerialize::test_safe_serialize_pydantic_model
tests/unit/test_serialization_utilities.py::TestSafeSerialize::test_safe_serialize_list
tests/unit/test_serialization_utilities.py::TestSafeSerialize::test_safe_serialize_dict
tests/unit/test_serialization_utilities.py::TestSafeSerialize::test_safe_serialize_set
tests/unit/test_serialization_utilities.py::TestSafeSerialize::test_safe_serialize_custom_object
tests/unit/test_serialization_utilities.py::TestSafeSerialize::test_safe_serialize_with_custom_serializer
tests/unit/test_serialization_utilities.py::TestSafeSerialize::test_safe_serialize_circular_reference
tests/unit/test_serialization_utilities.py::TestSafeSerialize::test_safe_serialize_with_default_serializer
tests/unit/test_serialization_utilities.py::TestSafeSerialize::test_safe_serialize_nested_structures
tests/unit/test_serialization_utilities.py::TestSafeSerialize::test_safe_serialize_deep_circular_reference
tests/unit/test_serialization_utilities.py::TestSafeDeserialize::test_safe_deserialize_basic_types
tests/unit/test_serialization_utilities.py::TestSafeDeserialize::test_safe_deserialize_datetime_strings
tests/unit/test_serialization_utilities.py::TestSafeDeserialize::test_safe_deserialize_enum
tests/unit/test_serialization_utilities.py::TestSafeDeserialize::test_safe_deserialize_pydantic_model
tests/unit/test_serialization_utilities.py::TestSafeDeserialize::test_safe_deserialize_with_custom_deserializer
tests/unit/test_serialization_utilities.py::TestSafeDeserialize::test_safe_deserialize_with_default_deserializer
tests/unit/test_serialization_utilities.py::TestSafeDeserialize::test_safe_deserialize_list
tests/unit/test_serialization_utilities.py::TestSafeDeserialize::test_safe_deserialize_dict
tests/unit/test_serialization_utilities.py::TestRobustSerialize::test_robust_serialize_basic_types
tests/unit/test_serialization_utilities.py::TestRobustSerialize::test_robust_serialize_complex_objects
tests/unit/test_serialization_utilities.py::TestRobustSerialize::test_robust_serialize_with_fallback
tests/unit/test_serialization_utilities.py::TestSerializeToJson::test_serialize_to_json_basic
tests/unit/test_serialization_utilities.py::TestSerializeToJson::test_serialize_to_json_with_kwargs
tests/unit/test_serialization_utilities.py::TestSerializeToJson::test_serialize_to_json_robust
tests/unit/test_serialization_utilities.py::TestSerializationProperties::test_safe_serialize_text_roundtrip
tests/unit/test_serialization_utilities.py::TestSerializationProperties::test_safe_serialize_integer_roundtrip
tests/unit/test_serialization_utilities.py::TestSerializationProperties::test_safe_serialize_float_roundtrip
tests/unit/test_serialization_utilities.py::TestSerializationProperties::test_safe_serialize_boolean_roundtrip
tests/unit/test_serialization_utilities.py::TestSerializationProperties::test_safe_serialize_list_roundtrip
tests/unit/test_serialization_utilities.py::TestSerializationProperties::test_safe_serialize_dict_roundtrip
tests/unit/test_serialization_utilities.py::TestSerializationProperties::test_serialize_to_json_roundtrip
tests/unit/test_serialization_utilities.py::TestSerializationProperties::test_serialize_to_json_robust_roundtrip
tests/unit/test_settings.py::test_env_var_precedence
tests/unit/test_settings.py::test_defaults
tests/unit/test_settings.py::test_invalid_env_vars
tests/unit/test_settings.py::test_logfire_legacy_alias
tests/unit/test_settings.py::test_missing_api_key_allowed
tests/unit/test_settings.py::test_settings_constructor_values
tests/unit/test_settings.py::test_settings_initialization
tests/unit/test_settings.py::test_test_settings
tests/unit/test_signature_injection.py::test_context_injected
tests/unit/test_signature_injection.py::test_resources_injected
tests/unit/test_signature_injection.py::test_legacy_context_works
tests/unit/test_signature_tools.py::test_analyze_signature_simple_types_and_io_hints
tests/unit/test_signature_tools.py::test_invalid_context_annotation_missing_raises
tests/unit/test_signature_tools.py::test_invalid_context_wrong_type_raises
tests/unit/test_signature_tools.py::test_valid_context_basemodel_annotation_sets_flag
tests/unit/test_signature_tools.py::test_invalid_context_union_without_basemodel_raises
tests/unit/test_signature_tools.py::test_resources_annotation_validation
tests/unit/test_signature_tools.py::test_context_union_with_basemodel_component_is_accepted
tests/unit/test_signature_tools.py::test_resources_union_with_appresources_component_is_accepted
tests/unit/test_signature_tools.py::test_cache_returns_same_spec_instance_for_same_callable
tests/unit/test_signature_tools.py::test_cache_returns_same_spec_instance_for_same_callable_object
tests/unit/test_signature_tools.py::test_cache_handles_non_weakref_callables_by_id_cache
tests/unit/test_signature_tools.py::test_defensive_type_hints_failure_falls_back
tests/unit/test_simple_step_policy.py::test_simple_policy_owned_execution
tests/unit/test_simple_step_policy.py::test_simple_policy_success_path
tests/unit/test_simple_step_policy.py::test_simple_policy_with_plugin_success
tests/unit/test_simple_step_policy.py::test_simple_policy_with_validator_failure
tests/unit/test_simple_step_policy.py::test_processors_pipeline_applied
tests/unit/test_simple_step_policy.py::test_retry_attempt_counts
tests/unit/test_simple_step_policy.py::test_fallback_success_path
tests/unit/test_simple_step_policy.py::test_fallback_failure_path
tests/unit/test_simple_step_policy.py::test_streaming_invokes_on_chunk
tests/unit/test_simple_step_policy.py::test_usage_guard_not_called_in_quota_mode
tests/unit/test_simple_step_policy.py::test_cache_put_called_on_success
tests/unit/test_slot_synthesis.py::test_synthesize_slots_extracts_fields_from_hitl_history
tests/unit/test_sql_injection_security.py::TestSQLInjectionSecurity::test_get_failed_workflows_sql_injection_resistance
tests/unit/test_sql_injection_security.py::TestSQLInjectionSecurity::test_cleanup_old_workflows_sql_injection_resistance
tests/unit/test_sql_injection_security.py::TestSQLInjectionSecurity::test_list_workflows_sql_injection_resistance
tests/unit/test_sql_injection_security.py::TestSQLInjectionSecurity::test_save_state_sql_injection_resistance
tests/unit/test_sql_injection_security.py::TestSQLInjectionSecurity::test_load_state_sql_injection_resistance
tests/unit/test_sql_injection_security.py::TestSQLInjectionSecurity::test_delete_state_sql_injection_resistance
tests/unit/test_sql_injection_security.py::TestSQLInjectionSecurity::test_parameterized_queries_work_correctly
tests/unit/test_sql_injection_security.py::TestSQLInjectionSecurity::test_edge_cases_and_boundary_values
tests/unit/test_sql_injection_security.py::TestSQLInjectionSecurity::test_sql_injection_prevention_patterns
tests/unit/test_sqlite_backend_robustness.py::TestSQLiteBackendRobustness::test_save_run_start_missing_pipeline_id_handled_gracefully
tests/unit/test_sqlite_backend_robustness.py::TestSQLiteBackendRobustness::test_save_run_start_partial_data_handled_gracefully
tests/unit/test_sqlite_backend_robustness.py::TestSQLiteBackendRobustness::test_schema_migration_handles_existing_runs_table
tests/unit/test_sqlite_backend_robustness.py::TestSQLiteBackendRobustness::test_schema_migration_handles_missing_columns
tests/unit/test_sqlite_backend_robustness.py::TestSQLiteBackendRobustness::test_schema_migration_handles_corrupted_database
tests/unit/test_sqlite_backend_robustness.py::TestSQLiteBackendRobustness::test_concurrent_access_handled_gracefully
tests/unit/test_sqlite_backend_robustness.py::TestSQLiteBackendRobustness::test_database_locking_handled_properly
tests/unit/test_sqlite_backend_robustness.py::TestSQLiteBackendRobustness::test_error_propagation_maintains_context
tests/unit/test_sqlite_backend_robustness.py::TestSQLiteBackendRobustness::test_retry_logic_handles_transient_errors
tests/unit/test_sqlite_backend_traces.py::TestNormalizedTraceStorage::test_save_and_get_trace
tests/unit/test_sqlite_backend_traces.py::TestNormalizedTraceStorage::test_save_trace_without_prior_run_row
tests/unit/test_sqlite_backend_traces.py::TestNormalizedTraceStorage::test_save_step_without_prior_run_row
tests/unit/test_sqlite_backend_traces.py::TestNormalizedTraceStorage::test_get_spans_with_filtering
tests/unit/test_sqlite_backend_traces.py::TestNormalizedTraceStorage::test_span_statistics
tests/unit/test_sqlite_backend_traces.py::TestNormalizedTraceStorage::test_cascade_deletion
tests/unit/test_sqlite_backend_traces.py::TestNormalizedTraceStorage::test_complex_nested_trace
tests/unit/test_sqlite_backend_traces.py::TestNormalizedTraceStorage::test_span_attributes_preservation
tests/unit/test_sqlite_backend_traces.py::TestNormalizedTraceStorage::test_empty_trace_handling
tests/unit/test_sqlite_backend_traces.py::TestNormalizedTraceStorage::test_concurrent_access
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_creates_unique_filenames
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_handles_existing_files
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_handles_rename_failure
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_prevents_infinite_loop
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_preserves_debugging_information
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_handles_many_existing_files_correctly
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_regression_removes_oldest_and_moves_db
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_path_is_unique_after_cleanup
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_race_condition_file_deleted_between_check_and_rename
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_read_only_directory_fallback
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_handles_gap_in_sequence
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_handles_concurrent_access
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_robustness_under_stress
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_handles_edge_case_with_base_path_available
tests/unit/test_sqlite_backup_fix.py::TestSQLiteBackupFix::test_backup_handles_edge_case_with_base_path_taken
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendDeleteState::test_delete_state_removes_workflow_from_database
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendDeleteState::test_delete_state_nonexistent_workflow
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendDeleteState::test_delete_state_multiple_workflows
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendBackupEdgeCases::test_backup_with_special_characters_in_filename
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendBackupEdgeCases::test_backup_with_long_filename
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendBackupEdgeCases::test_backup_with_no_write_permissions
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendBackupEdgeCases::test_backup_with_disk_full_error
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendPerformanceThresholds::test_performance_threshold_environment_variable
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendPerformanceThresholds::test_performance_threshold_default_behavior
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendLoggerContextManagement::test_logger_context_manager_cleanup
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendLoggerContextManagement::test_logger_context_manager_exception_handling
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendTypeSafety::test_retry_mechanism_type_safety
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendTypeSafety::test_serialization_type_safety
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendConcurrencyEdgeCases::test_concurrent_delete_and_save
tests/unit/test_sqlite_edge_cases.py::TestSQLiteBackendConcurrencyEdgeCases::test_concurrent_backup_operations
tests/unit/test_sqlite_fault_tolerance.py::test_sqlite_backend_handles_corrupted_database
tests/unit/test_sqlite_fault_tolerance.py::test_sqlite_backend_handles_partial_writes
tests/unit/test_sqlite_fault_tolerance.py::test_sqlite_backend_migration_failure_recovery
tests/unit/test_sqlite_fault_tolerance.py::test_sqlite_backend_concurrent_migration_safety
tests/unit/test_sqlite_fault_tolerance.py::test_sqlite_backend_disk_space_exhaustion
tests/unit/test_sqlite_fault_tolerance.py::test_sqlite_backend_connection_failure_recovery
tests/unit/test_sqlite_fault_tolerance.py::test_sqlite_backend_transaction_rollback_on_error
tests/unit/test_sqlite_fault_tolerance.py::test_sqlite_backend_schema_validation_recovery
tests/unit/test_sqlite_fuzzing.py::TestSQLiteBackendFuzzing::test_fuzz_database_filename_edge_cases
tests/unit/test_sqlite_fuzzing.py::TestSQLiteBackendFuzzing::test_fuzz_state_data_edge_cases
tests/unit/test_sqlite_fuzzing.py::TestSQLiteBackendFuzzing::test_fuzz_concurrent_operations
tests/unit/test_sqlite_fuzzing.py::TestSQLiteBackendFuzzing::test_fuzz_backup_recovery_edge_cases
tests/unit/test_sqlite_fuzzing.py::TestSQLiteBackendFuzzing::test_fuzz_schema_migration_edge_cases
tests/unit/test_sqlite_fuzzing.py::TestSQLiteBackendFuzzing::test_fuzz_performance_under_load
tests/unit/test_sqlite_fuzzing.py::TestSQLiteBackendFuzzing::test_fuzz_error_recovery_scenarios
tests/unit/test_sqlite_observability.py::test_sqlite_backend_logs_initialization_events
tests/unit/test_sqlite_observability.py::test_sqlite_backend_logs_save_operations
tests/unit/test_sqlite_observability.py::test_sqlite_backend_logs_error_conditions
tests/unit/test_sqlite_observability.py::test_sqlite_backend_metrics_correctness
tests/unit/test_sqlite_observability.py::test_sqlite_backend_error_reporting_detail
tests/unit/test_sqlite_observability.py::test_sqlite_backend_performance_metrics
tests/unit/test_sqlite_observability.py::test_sqlite_backend_logs_cleanup_operations
tests/unit/test_sqlite_observability.py::test_sqlite_backend_error_context_preservation
tests/unit/test_sqlite_observability.py::test_sqlite_backend_logs_concurrent_access
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_no_infinite_loop_on_schema_errors
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_proper_initialization_reset
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_explicit_return_handling
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_database_locked_scenario
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_max_retries_exceeded
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_schema_migration_retry_limit
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_mixed_error_scenarios
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_proper_ensure_init_calls
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_concurrent_access_safety
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_memory_cleanup
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_logging_behavior
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_type_safety
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_edge_case_parameters
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_real_database_operations
tests/unit/test_sqlite_retry_mechanism.py::test_with_retries_corruption_recovery
tests/unit/test_sqlite_trace_persistence.py::test_save_and_get_trace_roundtrip
tests/unit/test_sqlite_trace_persistence.py::test_get_trace_nonexistent_run
tests/unit/test_sqlite_trace_persistence.py::test_save_trace_overwrites_existing
tests/unit/test_sqlite_trace_persistence.py::test_save_trace_complex_nested_structure
tests/unit/test_sqlite_trace_persistence.py::test_save_trace_with_special_json_types
tests/unit/test_sqlite_trace_persistence.py::test_trace_persistence_with_run_deletion
tests/unit/test_sqlite_trace_persistence.py::test_concurrent_trace_operations
tests/unit/test_sqlite_trace_persistence.py::test_trace_persistence_large_trace
tests/unit/test_state_backend.py::test_inmemory_backend_roundtrip
tests/unit/test_state_backend.py::test_inmemory_backend_handles_special_types
tests/unit/test_state_backend_manager.py::test_default_backend_uses_in_memory_in_test_mode
tests/unit/test_state_backend_manager.py::test_custom_backend_not_owned
tests/unit/test_state_backend_manager.py::test_delete_on_completion_invokes_backend
tests/unit/test_state_backend_manager.py::test_disable_backend_skips_creation
tests/unit/test_state_machine_policy_executor.py::test_policy_returns_failure_on_unknown_state
tests/unit/test_state_machine_policy_executor.py::test_policy_terminal_state_performs_no_calls
tests/unit/test_state_machine_policy_executor.py::test_policy_iterates_and_stops_on_end_state
tests/unit/test_state_machine_transitions_policy.py::test_success_transition_applies_and_stops_on_end_state
tests/unit/test_state_machine_transitions_policy.py::test_failure_transition_wildcard_to_failed
tests/unit/test_state_machine_transitions_policy.py::test_pause_transition_reenters_state_and_reraises
tests/unit/test_state_machine_transitions_policy.py::test_no_rule_fallbacks_to_legacy_next_state
tests/unit/test_state_machine_transitions_policy.py::test_when_runtime_error_treated_as_non_match
tests/unit/test_state_machine_transitions_policy.py::test_no_transitions_legacy_flow_and_step_history
tests/unit/test_state_machine_transitions_policy.py::test_totals_aggregate_across_states
tests/unit/test_state_machine_transitions_policy.py::test_state_machine_policy_does_not_use_breach_event
tests/unit/test_state_manager_cache_key_parsing.py::TestStateManagerCacheKeyParsing::test_create_cache_key_with_underscores_in_run_id
tests/unit/test_state_manager_cache_key_parsing.py::TestStateManagerCacheKeyParsing::test_parse_cache_key_with_underscores_in_run_id
tests/unit/test_state_manager_cache_key_parsing.py::TestStateManagerCacheKeyParsing::test_cache_key_roundtrip_with_complex_run_id
tests/unit/test_state_manager_cache_key_parsing.py::TestStateManagerCacheKeyParsing::test_parse_cache_key_invalid_format
tests/unit/test_state_manager_cache_key_parsing.py::TestStateManagerCacheKeyParsing::test_parse_cache_key_edge_cases
tests/unit/test_state_manager_cache_key_parsing.py::TestStateManagerCacheKeyParsing::test_legacy_cache_key_handling
tests/unit/test_state_manager_cache_key_parsing.py::TestStateManagerCacheKeyParsing::test_cache_key_with_pipe_in_run_id
tests/unit/test_state_manager_cache_key_parsing.py::TestStateManagerCacheKeyParsing::test_cache_key_with_multiple_pipes_in_run_id
tests/unit/test_state_manager_cache_key_parsing.py::TestStateManagerCacheKeyParsing::test_cache_key_with_special_characters
tests/unit/test_state_manager_cache_key_parsing.py::TestStateManagerCacheKeyParsing::test_cache_key_performance
tests/unit/test_state_manager_fallback_serialization.py::TestStateManagerFallbackSerialization::test_fallback_serialization_includes_all_essential_fields
tests/unit/test_state_manager_fallback_serialization.py::TestStateManagerFallbackSerialization::test_fallback_serialization_with_missing_fields
tests/unit/test_state_manager_fallback_serialization.py::TestStateManagerFallbackSerialization::test_error_fallback_serialization
tests/unit/test_state_manager_fallback_serialization.py::TestStateManagerFallbackSerialization::test_fallback_serialization_preserves_data_integrity
tests/unit/test_state_providers_integration.py::test_executor_factory_accepts_state_providers
tests/unit/test_state_providers_integration.py::test_executor_factory_defaults_to_empty_dict
tests/unit/test_state_providers_integration.py::test_executor_factory_passes_providers_to_executor
tests/unit/test_state_providers_integration.py::test_backend_factory_uses_executor_with_providers
tests/unit/test_state_providers_integration.py::test_flujo_accepts_state_providers_parameter
tests/unit/test_state_providers_integration.py::test_flujo_defaults_to_empty_providers
tests/unit/test_state_providers_integration.py::test_flujo_passes_providers_to_executor_factory
tests/unit/test_state_providers_integration.py::test_flujo_respects_custom_executor_factory
tests/unit/test_state_providers_integration.py::test_flujo_warns_when_executor_factory_and_state_providers
tests/unit/test_state_providers_integration.py::test_flujo_propagates_providers_with_custom_backend_factory
tests/unit/test_state_providers_integration.py::test_context_reference_hydration
tests/unit/test_state_providers_integration.py::test_context_reference_persistence
tests/unit/test_state_providers_integration.py::test_backward_compatibility_no_providers
tests/unit/test_state_providers_integration.py::test_backward_compatibility_with_resources
tests/unit/test_state_providers_integration.py::test_multiple_providers
tests/unit/test_state_providers_integration.py::test_none_state_providers_treated_as_empty
tests/unit/test_state_serializer.py::test_compute_context_hash_excludes_volatile_fields
tests/unit/test_state_serializer.py::test_should_serialize_context_per_run_cache
tests/unit/test_state_serializer.py::test_serialize_context_for_state_caching_and_minimal
tests/unit/test_state_serializer.py::test_clear_cache_scoped_and_global
tests/unit/test_state_serializer.py::test_step_history_serialization_full_and_minimal
tests/unit/test_state_serializer.py::test_deserialize_context_round_trip_pipeline_context
tests/unit/test_state_serializer.py::test_deserialize_context_with_custom_model
tests/unit/test_state_serializer.py::test_deserialize_invalid_data_returns_none
tests/unit/test_streaming_bytes_bug.py::TestStreamingBytesBug::test_text_streaming_agent_protocol
tests/unit/test_streaming_bytes_bug.py::TestStreamingBytesBug::test_binary_streaming_agent_protocol
tests/unit/test_streaming_bytes_bug.py::TestStreamingBytesBug::test_legacy_streaming_agent_fallback
tests/unit/test_streaming_bytes_bug.py::TestStreamingBytesBug::test_legacy_binary_streaming_agent_fallback
tests/unit/test_streaming_bytes_bug.py::TestStreamingBytesBug::test_mixed_stream_types_handled_gracefully
tests/unit/test_streaming_bytes_bug.py::TestStreamingBytesBug::test_empty_stream_handled_correctly
tests/unit/test_streaming_bytes_bug.py::TestStreamingBytesBug::test_single_bytes_chunk
tests/unit/test_streaming_bytes_bug.py::TestStreamingBytesBug::test_large_bytes_stream
tests/unit/test_streaming_bytes_bug.py::TestStreamingBytesBug::test_protocol_type_safety
tests/unit/test_streaming_protocol.py::test_streaming_protocol_import
tests/unit/test_streaming_protocol.py::test_streaming_protocol_implementation
tests/unit/test_streaming_protocol.py::test_streaming_agent_functionality
tests/unit/test_streaming_protocol.py::test_streaming_agent_with_kwargs
tests/unit/test_streaming_protocol.py::test_streaming_agent_default_kwargs
tests/unit/test_summary_aggregation_nested_pipeline.py::test_nested_pipeline_result_aggregates_usage
tests/unit/test_summary_aggregation_nested_pipeline.py::test_nested_step_history_attached_for_visibility
tests/unit/test_telemetry.py::test_init_telemetry[False-None]
tests/unit/test_telemetry.py::test_init_telemetry[True-None]
tests/unit/test_telemetry.py::test_init_telemetry[True-https://otlp.example.com]
tests/unit/test_telemetry.py::test_init_telemetry_telemetry_disabled
tests/unit/test_telemetry.py::test_init_telemetry_otlp_with_endpoint
tests/unit/test_telemetry.py::test_init_telemetry_otlp_no_endpoint
tests/unit/test_telemetry.py::test_telemetry_initialization
tests/unit/test_telemetry.py::test_telemetry_export
tests/unit/test_telemetry.py::test_telemetry_export_disabled
tests/unit/test_telemetry.py::test_telemetry_export_error
tests/unit/test_telemetry.py::test_telemetry_export_with_span_tree
tests/unit/test_telemetry_robustness.py::TestTelemetryRobustness::test_safe_log_handles_closed_file_error
tests/unit/test_telemetry_robustness.py::TestTelemetryRobustness::test_safe_log_handles_other_closed_errors
tests/unit/test_telemetry_robustness.py::TestTelemetryRobustness::test_safe_log_raises_unexpected_errors
tests/unit/test_telemetry_robustness.py::TestTelemetryRobustness::test_safe_log_with_real_logger_and_multiple_handlers
tests/unit/test_telemetry_robustness.py::TestTelemetryRobustness::test_safe_log_with_binary_stream_handler
tests/unit/test_telemetry_robustness.py::TestTelemetryRobustness::test_mock_logfire_handles_closed_file_error
tests/unit/test_telemetry_robustness.py::TestTelemetryRobustness::test_safe_logfire_wrapper_handles_closed_file_error
tests/unit/test_telemetry_robustness.py::TestTelemetryRobustness::test_safe_logfire_wrapper_raises_unexpected_errors
tests/unit/test_telemetry_robustness.py::TestTelemetryRobustness::test_telemetry_during_cancellation
tests/unit/test_telemetry_robustness.py::TestTelemetryRobustness::test_telemetry_initialization_robustness
tests/unit/test_telemetry_robustness.py::TestTelemetryRobustness::test_logging_handler_cleanup
tests/unit/test_temperature.py::TestTempForRound::test_temp_for_round_within_schedule
tests/unit/test_temperature.py::TestTempForRound::test_temp_for_round_beyond_schedule
tests/unit/test_temperature.py::TestTempForRound::test_temp_for_round_single_value_schedule
tests/unit/test_temperature.py::TestTempForRound::test_temp_for_round_empty_schedule
tests/unit/test_temperature.py::TestTempForRound::test_temp_for_round_negative_round
tests/unit/test_temperature.py::TestTempForRound::test_temp_for_round_float_temperatures
tests/unit/test_temperature.py::TestTempForRound::test_temp_for_round_integer_temperatures
tests/unit/test_temperature.py::TestTempForRound::test_temp_for_round_mixed_temperatures
tests/unit/test_temperature.py::TestTempForRound::test_temp_for_round_large_schedule
tests/unit/test_template_fallbacks.py::test_fallback_literal_is_used_when_primary_missing
tests/unit/test_template_fallbacks.py::test_fallback_literal_is_used_when_primary_empty_string
tests/unit/test_template_fallbacks.py::test_steps_map_fallback_works
tests/unit/test_template_fallbacks.py::test_chained_fallback_selects_first_truthy
tests/unit/test_template_strict_mode_regressions.py::TestStrictModeRegressions::test_strict_mode_raises_on_undefined_variable
tests/unit/test_template_strict_mode_regressions.py::TestStrictModeRegressions::test_strict_mode_in_each_loops
tests/unit/test_template_strict_mode_regressions.py::TestStrictModeRegressions::test_strict_mode_passes_with_valid_variables
tests/unit/test_template_strict_mode_regressions.py::TestStrictModeRegressions::test_format_prompt_respects_strict_mode_when_configured
tests/unit/test_template_strict_mode_regressions.py::TestStrictModeRegressions::test_format_prompt_with_valid_variables
tests/unit/test_template_strict_mode_regressions.py::TestStrictModeRegressions::test_nested_variable_access_in_strict_mode
tests/unit/test_template_strict_mode_regressions.py::TestStrictModeRegressions::test_nested_undefined_variable_in_strict_mode
tests/unit/test_template_strict_mode_regressions.py::TestStrictModeRegressions::test_strict_mode_with_filters
tests/unit/test_template_strict_mode_regressions.py::TestStrictModeRegressions::test_strict_mode_with_undefined_in_filter
tests/unit/test_template_strict_mode_regressions.py::TestConfigManagerImports::test_config_manager_imports_are_correct
tests/unit/test_template_strict_mode_regressions.py::TestConfigManagerImports::test_format_prompt_helper_imports_correctly
tests/unit/test_template_strict_mode_regressions.py::TestLoggingConfiguration::test_log_resolution_flag_is_passed_to_formatter
tests/unit/test_template_strict_mode_regressions.py::TestLoggingConfiguration::test_log_resolution_in_each_loops
tests/unit/test_templated_agent_wrapper.py::test_templated_wrapper_renders_and_restores_prompt
tests/unit/test_testing_utils.py::TestStubAgent::test_stub_agent_basic
tests/unit/test_testing_utils.py::TestStubAgent::test_stub_agent_call_count
tests/unit/test_testing_utils.py::TestStubAgent::test_stub_agent_exhaustion
tests/unit/test_testing_utils.py::TestStubAgent::test_stub_agent_empty_outputs
tests/unit/test_testing_utils.py::TestStubAgent::test_stub_agent_single_output
tests/unit/test_testing_utils.py::TestStubAgent::test_stub_agent_multiple_outputs
tests/unit/test_testing_utils.py::TestStubAgent::test_stub_agent_with_context
tests/unit/test_testing_utils.py::TestStubAgent::test_stub_agent_input_ignored
tests/unit/test_testing_utils.py::TestOverrideAgent::test_override_agent_basic
tests/unit/test_testing_utils.py::TestOverrideAgent::test_override_agent_exception_handling
tests/unit/test_testing_utils.py::TestOverrideAgent::test_override_agent_nested
tests/unit/test_testing_utils.py::TestOverrideAgent::test_override_agent_multiple_calls
tests/unit/test_testing_utils.py::TestGatherResult::test_gather_result_basic
tests/unit/test_testing_utils.py::TestGatherResult::test_gather_result_with_context
tests/unit/test_testing_utils.py::TestGatherResult::test_gather_result_with_resources
tests/unit/test_testing_utils.py::TestAssertPipelineResult::test_assert_pipeline_result_success
tests/unit/test_testing_utils.py::TestAssertPipelineResult::test_assert_pipeline_result_failure
tests/unit/test_testing_utils.py::TestAssertPipelineResult::test_assert_pipeline_result_wrong_output
tests/unit/test_testing_utils.py::TestAssertPipelineResult::test_assert_pipeline_result_no_output_check
tests/unit/test_testing_utils.py::TestAssertValidatorFailed::test_assert_validator_failed_with_failure
tests/unit/test_testing_utils.py::TestAssertValidatorFailed::test_assert_validator_failed_with_success
tests/unit/test_testing_utils.py::TestAssertValidatorFailed::test_assert_validator_failed_with_return_value
tests/unit/test_testing_utils.py::TestAssertValidatorFailed::test_assert_validator_failed_with_none_return
tests/unit/test_testing_utils.py::TestAssertValidatorFailed::test_test_validator_failed_sync_with_complex_data
tests/unit/test_testing_utils.py::TestAssertValidatorFailed::test_assert_validator_failed_with_async_validator
tests/unit/test_testing_utils.py::TestEdgeCases::test_stub_agent_with_none_outputs
tests/unit/test_testing_utils.py::TestEdgeCases::test_stub_agent_with_non_list_outputs
tests/unit/test_testing_utils.py::TestEdgeCases::test_override_agent_with_none_agent
tests/unit/test_testing_utils.py::TestEdgeCases::test_override_agent_with_same_agent
tests/unit/test_testing_utils.py::TestEdgeCases::test_stub_agent_call_count_overflow
tests/unit/test_testing_utils.py::TestEdgeCases::test_override_agent_context_manager_protocol
tests/unit/test_testing_utils.py::TestEdgeCases::test_assert_validator_failed_with_async_validator
tests/unit/test_testing_utils.py::TestIntegration::test_stub_agent_with_override_agent
tests/unit/test_testing_utils.py::TestIntegration::test_multiple_stub_agents_with_override
tests/unit/test_testing_utils.py::test_assert_validator_failed_with_stub_agent_sync
tests/unit/test_testing_utils.py::test_assert_validator_failed_with_stub_agent_async
tests/unit/test_testing_utils_extended.py::test_simple_dummy_remote_backend_initialization
tests/unit/test_testing_utils_extended.py::test_simple_dummy_remote_backend_execute_step
tests/unit/test_testing_utils_extended.py::test_simple_dummy_remote_backend_execute_step_with_context
tests/unit/test_testing_utils_extended.py::test_simple_dummy_remote_backend_execute_step_with_resources
tests/unit/test_testing_utils_extended.py::test_simple_dummy_remote_backend_execute_step_agent_without_run
tests/unit/test_testing_utils_extended.py::test_simple_dummy_remote_backend_store_and_retrieve
tests/unit/test_testing_utils_extended.py::test_simple_dummy_remote_backend_clear
tests/unit/test_testing_utils_extended.py::test_simple_dummy_remote_backend_get_call_count
tests/unit/test_testing_utils_extended.py::test_simple_dummy_remote_backend_get_storage_keys
tests/unit/test_testing_utils_extended.py::test_simple_dummy_remote_backend_get_storage_size
tests/unit/test_testing_utils_extended.py::test_override_agent_context_manager
tests/unit/test_testing_utils_extended.py::test_override_agent_direct_context_manager
tests/unit/test_testing_utils_extended.py::test_override_agent_direct_with_none_agents
tests/unit/test_testing_utils_extended.py::test_override_agent_direct_with_same_agent
tests/unit/test_testing_utils_extended.py::test_dummy_remote_backend_initialization
tests/unit/test_testing_utils_extended.py::test_dummy_remote_backend_execute_step
tests/unit/test_testing_utils_extended.py::test_dummy_remote_backend_execute_step_with_agent_registry
tests/unit/test_trace_integration.py::test_trace_saving_integration
tests/unit/test_trace_integration.py::test_trace_saving_without_trace_tree
tests/unit/test_trace_integration.py::test_trace_saving_error_handling
tests/unit/test_tracing.py::test_console_tracer_hook_prints
tests/unit/test_tracing.py::test_console_tracer_config
tests/unit/test_tracing_manager.py::test_tracing_manager_setup_enables_tracing
tests/unit/test_tracing_manager.py::test_tracing_manager_respects_disable_env_and_attaches_console
tests/unit/test_types_compatible_generics.py::test_list_generic_argument_incompatible
tests/unit/test_types_compatible_generics.py::test_list_generic_argument_compatible
tests/unit/test_types_compatible_generics.py::test_dict_generic_arguments_incompatible
tests/unit/test_types_compatible_generics.py::test_dict_generic_arguments_compatible
tests/unit/test_types_compatible_generics.py::test_plain_vs_parametric_considered_compatible
tests/unit/test_ultra_executor.py::TestSerializerInterface::test_orjson_serializer
tests/unit/test_ultra_executor.py::TestSerializerInterface::test_serializer_determinism
tests/unit/test_ultra_executor.py::TestHasherInterface::test_blake3_hasher
tests/unit/test_ultra_executor.py::TestHasherInterface::test_hasher_determinism
tests/unit/test_ultra_executor.py::TestCacheBackendInterface::test_in_memory_lru_backend
tests/unit/test_ultra_executor.py::TestCacheBackendInterface::test_cache_ttl
tests/unit/test_ultra_executor.py::TestCacheBackendInterface::test_cache_mutation_protection
tests/unit/test_ultra_executor.py::TestUsageMeterInterface::test_thread_safe_meter
tests/unit/test_ultra_executor.py::TestUsageMeterInterface::test_usage_limit_enforcement
tests/unit/test_ultra_executor.py::TestUsageMeterInterface::test_concurrent_usage_tracking
tests/unit/test_ultra_executor.py::TestCacheKeyGeneration::test_cache_key_determinism
tests/unit/test_ultra_executor.py::TestCacheKeyGeneration::test_cache_key_uniqueness
tests/unit/test_ultra_executor.py::TestCacheKeyGeneration::test_agent_id_stability
tests/unit/test_ultra_executor.py::TestExecutorCore::test_basic_step_execution
tests/unit/test_ultra_executor.py::TestExecutorCore::test_step_execution_with_retry
tests/unit/test_ultra_executor.py::TestExecutorCore::test_caching_functionality
tests/unit/test_ultra_executor.py::TestExecutorCore::test_usage_tracking
tests/unit/test_ultra_executor.py::TestExecutorCore::test_processor_pipeline
tests/unit/test_ultra_executor.py::TestExecutorCore::test_validation_failure
tests/unit/test_ultra_executor.py::TestBackwardCompatibility::test_constructor_compatibility
tests/unit/test_ultra_executor.py::TestBackwardCompatibility::test_execute_step_signature
tests/unit/test_ultra_executor.py::TestBackwardCompatibility::test_cache_property_compatibility
tests/unit/test_ultra_executor.py::TestBackwardCompatibility::test_clear_cache_compatibility
tests/unit/test_ultra_executor.py::TestErrorHandling::test_critical_exception_propagation
tests/unit/test_ultra_executor.py::TestErrorHandling::test_usage_limit_exception_propagation
tests/unit/test_ultra_executor.py::TestErrorHandling::test_max_retries_exceeded
tests/unit/test_ultra_executor.py::TestIntegration::test_real_step_execution
tests/unit/test_ultra_executor.py::TestIntegration::test_complex_step_delegation
tests/unit/test_ultra_executor_cumulative_limits.py::TestUltraExecutorCumulativeLimits::test_usage_tracker_cumulative_tracking
tests/unit/test_ultra_executor_cumulative_limits.py::TestUltraExecutorCumulativeLimits::test_usage_tracker_limit_checking
tests/unit/test_ultra_executor_cumulative_limits.py::TestUltraExecutorCumulativeLimits::test_usage_tracker_thread_safety
tests/unit/test_ultra_executor_cumulative_limits.py::TestUltraExecutorCumulativeLimits::test_legacy_guard_method_compatibility
tests/unit/test_ultra_executor_cumulative_limits.py::TestUltraExecutorCumulativeLimits::test_usage_tracker_multiple_limit_checks
tests/unit/test_ultra_executor_cumulative_limits.py::TestUltraExecutorCumulativeLimits::test_usage_tracker_zero_limits
tests/unit/test_ultra_executor_cumulative_limits.py::TestUltraExecutorCumulativeLimits::test_usage_tracker_precision_handling
tests/unit/test_usage_estimator.py::test_heuristic_returns_minimal_when_no_hints
tests/unit/test_usage_estimator.py::test_heuristic_estimator_prefers_config_hints
tests/unit/test_usage_estimator.py::test_heuristic_estimator_conservative_bounds_by_model
tests/unit/test_usage_estimator.py::test_heuristic_estimator_defaults_minimal
tests/unit/test_usage_estimator.py::test_registry_and_factory_selects_minimal_for_adapter_or_validation
tests/unit/test_utils_properties.py::test_property_summary_length
tests/unit/test_utils_properties.py::test_property_redaction_hides_secrets
tests/unit/test_utils_settings.py::test_get_settings_reflects_env_flags
tests/unit/test_validation.py::test_base_validator_initialization
tests/unit/test_validation.py::test_base_validator_validate_valid
tests/unit/test_validation.py::test_base_validator_validate_invalid
tests/unit/test_validation.py::test_base_validator_validate_with_context
tests/unit/test_validation.py::test_validator_decorator_valid
tests/unit/test_validation.py::test_validator_decorator_invalid
tests/unit/test_validation.py::test_validator_decorator_exception
tests/unit/test_validation.py::test_validator_decorator_with_context
tests/unit/test_validation.py::test_validator_decorator_creates_functional_validator
tests/unit/test_welcome_agent.py::test_welcome_agent_is_registered
tests/unit/test_welcome_agent.py::test_welcome_agent_factory_executes_without_optional_dependency
tests/unit/test_welcome_agent.py::test_template_pipeline_yaml_loads
tests/unit/test_yaml_dynamic_router.py::test_dynamic_router_yaml_roundtrip
tests/unit/test_yaml_imports_outputs_semantics.py::test_yaml_imports_outputs_dict_is_converted_to_list
tests/unit/test_yaml_imports_outputs_semantics.py::test_yaml_imports_outputs_unset_is_none
tests/unit/test_yaml_imports_outputs_semantics.py::test_yaml_imports_outputs_empty_list_is_empty
tests/unit/test_yaml_loader_state_machine.py::test_yaml_loader_instantiates_state_machine_step
tests/unit/test_yaml_loop_mappers.py::TestYAMLLoopMappers::test_yaml_loop_with_initial_input_mapper
tests/unit/test_yaml_loop_mappers.py::TestYAMLLoopMappers::test_yaml_loop_with_all_mappers
tests/unit/test_yaml_loop_mappers.py::TestYAMLLoopMappers::test_yaml_loop_without_mappers
tests/unit/test_yaml_loop_mappers.py::TestYAMLLoopMappers::test_yaml_loop_mapper_import_error
tests/unit/test_yaml_loop_mappers.py::TestYAMLLoopMappers::test_yaml_loop_mapper_execution
tests/unit/test_yaml_loop_mappers.py::TestYAMLLoopMappers::test_yaml_loop_dump_load_roundtrip
tests/unit/test_yaml_loop_mappers.py::TestYAMLLoopMappers::test_yaml_loop_conversational_pattern
tests/unit/test_yaml_loop_mappers.py::TestYAMLLoopMappers::test_yaml_loop_mapper_validation
tests/unit/test_yaml_state_machine_imports_resolution.py::test_yaml_loader_compiles_state_machine_states_with_imports
tests/unit/tracing/test_resume_span_closure.py::test_resume_post_step_closes_lingering_span
tests/unit/tracing/test_trace_manager_post_run_state.py::test_trace_manager_post_run_marks_paused
tests/unit/utils/test_context_utils.py::test_get_context_field_safely_returns_default_when_context_none
tests/unit/utils/test_context_utils.py::test_get_context_field_safely_returns_existing_field
tests/unit/utils/test_context_utils.py::test_get_context_field_safely_returns_default_when_missing
tests/unit/utils/test_context_utils.py::test_get_context_field_safely_handles_attribute_error_and_returns_default
tests/unit/utils/test_excluded_fields.py::test_excluded_fields_non_string_env_falls_back_to_defaults
tests/unit/utils/test_excluded_fields.py::test_excluded_fields_accepts_whitelisted_values_only
tests/unit/utils/test_excluded_fields.py::test_excluded_fields_rejects_overlength_and_keeps_valid
tests/unit/utils/test_excluded_fields.py::test_excluded_fields_invalid_identifier_and_non_whitelisted_are_ignored

1710 tests collected in 1.47s
